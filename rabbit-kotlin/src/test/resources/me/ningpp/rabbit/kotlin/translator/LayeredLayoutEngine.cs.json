{"usings":[{"usingKeyword":"using","name":{"identifierNameInfo":{"identifier":"System"}}},{"usingKeyword":"using","name":{"qualifiedNameInfo":{"left":{"qualifiedNameInfo":{"left":{"identifierNameInfo":{"identifier":"System"}},"right":{"identifierNameInfo":{"identifier":"Collections"}}}},"right":{"identifierNameInfo":{"identifier":"Generic"}}}}},{"usingKeyword":"using","name":{"qualifiedNameInfo":{"left":{"identifierNameInfo":{"identifier":"System"}},"right":{"identifierNameInfo":{"identifier":"Diagnostics"}}}}},{"usingKeyword":"using","name":{"qualifiedNameInfo":{"left":{"qualifiedNameInfo":{"left":{"identifierNameInfo":{"identifier":"System"}},"right":{"identifierNameInfo":{"identifier":"Diagnostics"}}}},"right":{"identifierNameInfo":{"identifier":"CodeAnalysis"}}}}},{"usingKeyword":"using","name":{"qualifiedNameInfo":{"left":{"identifierNameInfo":{"identifier":"System"}},"right":{"identifierNameInfo":{"identifier":"Linq"}}}}},{"usingKeyword":"using","name":{"qualifiedNameInfo":{"left":{"qualifiedNameInfo":{"left":{"identifierNameInfo":{"identifier":"Microsoft"}},"right":{"identifierNameInfo":{"identifier":"Msagl"}}}},"right":{"identifierNameInfo":{"identifier":"Core"}}}}},{"usingKeyword":"using","name":{"qualifiedNameInfo":{"left":{"qualifiedNameInfo":{"left":{"qualifiedNameInfo":{"left":{"identifierNameInfo":{"identifier":"Microsoft"}},"right":{"identifierNameInfo":{"identifier":"Msagl"}}}},"right":{"identifierNameInfo":{"identifier":"Core"}}}},"right":{"identifierNameInfo":{"identifier":"DataStructures"}}}}},{"usingKeyword":"using","name":{"qualifiedNameInfo":{"left":{"qualifiedNameInfo":{"left":{"qualifiedNameInfo":{"left":{"identifierNameInfo":{"identifier":"Microsoft"}},"right":{"identifierNameInfo":{"identifier":"Msagl"}}}},"right":{"identifierNameInfo":{"identifier":"Core"}}}},"right":{"identifierNameInfo":{"identifier":"Geometry"}}}}},{"usingKeyword":"using","name":{"qualifiedNameInfo":{"left":{"qualifiedNameInfo":{"left":{"qualifiedNameInfo":{"left":{"identifierNameInfo":{"identifier":"Microsoft"}},"right":{"identifierNameInfo":{"identifier":"Msagl"}}}},"right":{"identifierNameInfo":{"identifier":"Core"}}}},"right":{"identifierNameInfo":{"identifier":"GraphAlgorithms"}}}}},{"usingKeyword":"using","name":{"qualifiedNameInfo":{"left":{"qualifiedNameInfo":{"left":{"qualifiedNameInfo":{"left":{"identifierNameInfo":{"identifier":"Microsoft"}},"right":{"identifierNameInfo":{"identifier":"Msagl"}}}},"right":{"identifierNameInfo":{"identifier":"Core"}}}},"right":{"identifierNameInfo":{"identifier":"Layout"}}}}},{"usingKeyword":"using","name":{"qualifiedNameInfo":{"left":{"qualifiedNameInfo":{"left":{"qualifiedNameInfo":{"left":{"identifierNameInfo":{"identifier":"Microsoft"}},"right":{"identifierNameInfo":{"identifier":"Msagl"}}}},"right":{"identifierNameInfo":{"identifier":"Core"}}}},"right":{"identifierNameInfo":{"identifier":"Routing"}}}}},{"usingKeyword":"using","name":{"qualifiedNameInfo":{"left":{"qualifiedNameInfo":{"left":{"identifierNameInfo":{"identifier":"Microsoft"}},"right":{"identifierNameInfo":{"identifier":"Msagl"}}}},"right":{"identifierNameInfo":{"identifier":"DebugHelpers"}}}}},{"usingKeyword":"using","name":{"qualifiedNameInfo":{"left":{"qualifiedNameInfo":{"left":{"identifierNameInfo":{"identifier":"Microsoft"}},"right":{"identifierNameInfo":{"identifier":"Msagl"}}}},"right":{"identifierNameInfo":{"identifier":"Routing"}}}}},{"usingKeyword":"using","name":{"qualifiedNameInfo":{"left":{"qualifiedNameInfo":{"left":{"qualifiedNameInfo":{"left":{"identifierNameInfo":{"identifier":"Microsoft"}},"right":{"identifierNameInfo":{"identifier":"Msagl"}}}},"right":{"identifierNameInfo":{"identifier":"Routing"}}}},"right":{"identifierNameInfo":{"identifier":"Rectilinear"}}}}},{"usingKeyword":"using","name":{"qualifiedNameInfo":{"left":{"qualifiedNameInfo":{"left":{"qualifiedNameInfo":{"left":{"qualifiedNameInfo":{"left":{"identifierNameInfo":{"identifier":"Microsoft"}},"right":{"identifierNameInfo":{"identifier":"Msagl"}}}},"right":{"identifierNameInfo":{"identifier":"Routing"}}}},"right":{"identifierNameInfo":{"identifier":"Spline"}}}},"right":{"identifierNameInfo":{"identifier":"Bundling"}}}}}],"members":[{"namespaceDeclarationInfo":{"namespaceKeyword":"namespace","name":{"qualifiedNameInfo":{"left":{"qualifiedNameInfo":{"left":{"qualifiedNameInfo":{"left":{"identifierNameInfo":{"identifier":"Microsoft"}},"right":{"identifierNameInfo":{"identifier":"Msagl"}}}},"right":{"identifierNameInfo":{"identifier":"Layout"}}}},"right":{"identifierNameInfo":{"identifier":"Layered"}}}},"members":[{"classDeclarationInfo":{"modifiers":["internal"],"keyword":"class","identifier":"LayeredLayoutEngine","baseList":{"colonToken":":","types":[{"simpleBaseTypeInfo":{"type":{"identifierNameInfo":{"identifier":"AlgorithmBase"}}}}]},"members":[{"propertyDeclarationInfo":{"type":{"predefinedTypeInfo":{"keyword":"bool"}},"identifier":"Brandes","accessorList":{"accessors":[{"keyword":"get"},{"keyword":"set"}]},"comments":["/// <summary>\n/// If set on always forces using fast but not optimal Brandes algorithm for x-coordinate assignment.\n/// </summary>"]}},{"fieldDeclarationInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"LayerArrays"}},"variables":[{"identifier":"engineLayerArrays"}]}}},{"fieldDeclarationInfo":{"modifiers":["readonly"],"declaration":{"type":{"identifierNameInfo":{"identifier":"GeometryGraph"}},"variables":[{"identifier":"originalGraph"}]}}},{"fieldDeclarationInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"ProperLayeredGraph"}},"variables":[{"identifier":"properLayeredGraph"}]}}},{"fieldDeclarationInfo":{"modifiers":["readonly"],"declaration":{"type":{"identifierNameInfo":{"identifier":"SugiyamaLayoutSettings"}},"variables":[{"identifier":"sugiyamaSettings"}]},"comments":["/// <summary>\n/// the sugiyama layout settings responsible for the algorithm parameters\n/// </summary>"]}},{"fieldDeclarationInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Database"}},"variables":[{"identifier":"database"}]}}},{"propertyDeclarationInfo":{"modifiers":["internal"],"type":{"identifierNameInfo":{"identifier":"Database"}},"identifier":"Database","accessorList":{"accessors":[{"keyword":"set","body":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"value"}}}},"startLine":51}}],"startLine":51}},{"keyword":"get","body":{"statements":[{"returnStatementInfo":{"returnKeyword":"return","expression":{"identifierNameInfo":{"identifier":"database"}},"startLine":52}}],"startLine":52}}]},"comments":["/// <summary>\n/// Keeps assorted data associated with the graph.\n/// </summary>"]}},{"constructorDeclarationInfo":{"modifiers":["internal"],"identifier":"LayeredLayoutEngine","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"LayerArrays"}},"identifier":"engineLayerArrays"},{"type":{"identifierNameInfo":{"identifier":"GeometryGraph"}},"identifier":"originalGraph"},{"type":{"identifierNameInfo":{"identifier":"ProperLayeredGraph"}},"identifier":"properLayeredGraph"},{"type":{"identifierNameInfo":{"identifier":"SugiyamaLayoutSettings"}},"identifier":"sugiyamaSettings"},{"type":{"identifierNameInfo":{"identifier":"Database"}},"identifier":"database"},{"type":{"genericNameInfo":{"identifier":"BasicGraph","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"Node"}},{"identifierNameInfo":{"identifier":"PolyIntEdge"}}],"greaterThanToken":">"}}},"identifier":"intGraph"},{"type":{"genericNameInfo":{"identifier":"Dictionary","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"Node"}},{"predefinedTypeInfo":{"keyword":"int"}}],"greaterThanToken":">"}}},"identifier":"nodeIdToIndex"},{"type":{"genericNameInfo":{"identifier":"BasicGraph","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"Node"}},{"identifierNameInfo":{"identifier":"PolyIntEdge"}}],"greaterThanToken":">"}}},"identifier":"gluedDagSkeletonForLayering"},{"type":{"predefinedTypeInfo":{"keyword":"bool"}},"identifier":"layersAreDoubled"},{"type":{"identifierNameInfo":{"identifier":"ConstrainedOrdering"}},"identifier":"constrainedOrdering"},{"type":{"predefinedTypeInfo":{"keyword":"bool"}},"identifier":"brandes"},{"type":{"identifierNameInfo":{"identifier":"XLayoutGraph"}},"identifier":"xLayoutGraph"}]},"body":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"thisExpressionInfo":{"token":"this"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"engineLayerArrays"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"engineLayerArrays"}}}},"startLine":59}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"thisExpressionInfo":{"token":"this"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"originalGraph"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"originalGraph"}}}},"startLine":60}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"thisExpressionInfo":{"token":"this"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"properLayeredGraph"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"properLayeredGraph"}}}},"startLine":61}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"thisExpressionInfo":{"token":"this"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}}}},"startLine":62}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"thisExpressionInfo":{"token":"this"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"database"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"database"}}}},"startLine":63}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"IntGraph"}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"intGraph"}}}},"startLine":64}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"thisExpressionInfo":{"token":"this"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"nodeIdToIndex"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"nodeIdToIndex"}}}},"startLine":65}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"GluedDagSkeletonForLayering"}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"gluedDagSkeletonForLayering"}}}},"startLine":66}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"LayersAreDoubled"}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"layersAreDoubled"}}}},"startLine":67}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"thisExpressionInfo":{"token":"this"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"constrainedOrdering"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"constrainedOrdering"}}}},"startLine":68}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"Brandes"}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"brandes"}}}},"startLine":69}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"anchors"}},"operatorToken":"=","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"anchors"}}}}}},"startLine":70}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"thisExpressionInfo":{"token":"this"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"xLayoutGraph"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"xLayoutGraph"}}}},"startLine":71}}],"startLine":58},"comments":["/// <summary>\n/// it is a special recovery constructor to recreate the engine from the recovery engine\n/// </summary>"]}},{"propertyDeclarationInfo":{"modifiers":["static"],"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"VirtualNodeWidth","accessorList":{"accessors":[{"keyword":"get","body":{"statements":[{"returnStatementInfo":{"returnKeyword":"return","expression":{"literalExpressionInfo":{"token":"1"}},"startLine":81}}],"startLine":81}}]},"comments":["/// <summary>\n/// the width of dummy nodes\n/// </summary>"]}},{"methodDeclarationInfo":{"modifiers":["static"],"returnType":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"VirtualNodeHeight","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"SugiyamaLayoutSettings"}},"identifier":"settings"}]},"body":{"statements":[{"returnStatementInfo":{"returnKeyword":"return","expression":{"binaryExpressionInfo":{"left":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"settings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"MinNodeHeight"}}}},"operatorToken":"*","right":{"literalExpressionInfo":{"token":"1.5f"}}}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"8"}}}},"startLine":88}}],"startLine":87},"comments":["/// <summary>\n/// the height of dummy nodes\n/// </summary>"]}},{"fieldDeclarationInfo":{"modifiers":["internal"],"declaration":{"type":{"genericNameInfo":{"identifier":"BasicGraph","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"Node"}},{"identifierNameInfo":{"identifier":"PolyIntEdge"}}],"greaterThanToken":">"}}},"variables":[{"identifier":"IntGraph"}]}}},{"propertyDeclarationInfo":{"type":{"genericNameInfo":{"identifier":"BasicGraph","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"Node"}},{"identifierNameInfo":{"identifier":"PolyIntEdge"}}],"greaterThanToken":">"}}},"identifier":"GluedDagSkeletonForLayering","accessorList":{"accessors":[{"keyword":"get"},{"keyword":"set"}]}}},{"fieldDeclarationInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"XLayoutGraph"}},"variables":[{"identifier":"xLayoutGraph"}],"comments":["//the graph obtained after X coord calculation"]},"comments":["//the graph obtained after X coord calculation"]}},{"fieldDeclarationInfo":{"modifiers":["readonly"],"declaration":{"type":{"genericNameInfo":{"identifier":"Dictionary","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"Node"}},{"predefinedTypeInfo":{"keyword":"int"}}],"greaterThanToken":">"}}},"variables":[{"identifier":"nodeIdToIndex"}]}}},{"fieldDeclarationInfo":{"declaration":{"type":{"arrayTypeInfo":{"elementType":{"identifierNameInfo":{"identifier":"Anchor"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"omittedArraySizeExpressionInfo":{}}],"closeBracketToken":"]"}]}},"variables":[{"identifier":"anchors"}]}}},{"constructorDeclarationInfo":{"modifiers":["internal"],"identifier":"LayeredLayoutEngine","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"GeometryGraph"}},"identifier":"originalGraph"},{"type":{"genericNameInfo":{"identifier":"BasicGraph","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"Node"}},{"identifierNameInfo":{"identifier":"PolyIntEdge"}}],"greaterThanToken":">"}}},"identifier":"graph"},{"type":{"genericNameInfo":{"identifier":"Dictionary","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"Node"}},{"predefinedTypeInfo":{"keyword":"int"}}],"greaterThanToken":">"}}},"identifier":"nodeIdToIndex"},{"type":{"identifierNameInfo":{"identifier":"SugiyamaLayoutSettings"}},"identifier":"settings"}]},"body":{"statements":[{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":"!=","right":{"literalExpressionInfo":{"token":"null"}}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"thisExpressionInfo":{"token":"this"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"originalGraph"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"originalGraph"}}}},"startLine":109}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"settings"}}}},"startLine":110}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"IntGraph"}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"graph"}}}},"startLine":111}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"Database"}},"operatorToken":"=","right":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"Database"}},"argumentList":{}}}}},"startLine":112}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"thisExpressionInfo":{"token":"this"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"nodeIdToIndex"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"nodeIdToIndex"}}}},"startLine":113}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"PolyIntEdge"}},"identifier":"e","inKeyword":"in","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"graph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Edges"}}}},"statement":{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"RegisterOriginalEdgeInMultiedges"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"e"}}}]}}},"startLine":115}},"startLine":114}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"CycleRemoval"}},"argumentList":{}}},"startLine":120}}],"startLine":108}},"startLine":108}}],"startLine":107},"comments":["/// <summary>\n/// constructor\n/// </summary>"]}},{"constructorDeclarationInfo":{"modifiers":["internal"],"identifier":"LayeredLayoutEngine","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"GeometryGraph"}},"identifier":"originalGraph"},{"type":{"identifierNameInfo":{"identifier":"SugiyamaLayoutSettings"}},"identifier":"settings"}]},"body":{"statements":[{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":"!=","right":{"literalExpressionInfo":{"token":"null"}}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"nodeIdToIndex"}},"operatorToken":"=","right":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"genericNameInfo":{"identifier":"Dictionary","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"Node"}},{"predefinedTypeInfo":{"keyword":"int"}}],"greaterThanToken":">"}}},"argumentList":{}}}}},"startLine":132,"comments":["//enumerate the nodes - maps node indices to strings"]}},{"localDeclarationStatementInfo":{"declaration":{"type":{"genericNameInfo":{"identifier":"IList","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"Node"}}],"greaterThanToken":">"}}},"variables":[{"identifier":"nodes","initializer":{"equalsToken":"=","value":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}}}}]},"startLine":134}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"index","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0"}}}}]},"startLine":136}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"Node"}},"identifier":"n","inKeyword":"in","expression":{"identifierNameInfo":{"identifier":"nodes"}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"nodeIdToIndex"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"n"}}}],"closeBracketToken":"]"}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"index"}}}},"startLine":138}},{"expressionStatementInfo":{"expression":{"postfixUnaryExpressionInfo":{"operand":{"identifierNameInfo":{"identifier":"index"}},"operatorToken":"++"}},"startLine":139}}],"startLine":137}},"startLine":137}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"edges","initializer":{"equalsToken":"=","value":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Edges"}}}}}}]},"startLine":142}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"intEdges","initializer":{"equalsToken":"=","value":{"arrayCreationExpressionInfo":{"newKeyword":"new","type":{"elementType":{"identifierNameInfo":{"identifier":"PolyIntEdge"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"edges"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Count"}}}}],"closeBracketToken":"]"}]}}}}}]},"startLine":144}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"i","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0"}}}}]},"startLine":145}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"identifier":"edge","inKeyword":"in","expression":{"identifierNameInfo":{"identifier":"edges"}},"statement":{"blockInfo":{"statements":[{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"edge"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Source"}}}},"operatorToken":"==","right":{"literalExpressionInfo":{"token":"null"}}}},"operatorToken":"||","right":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"edge"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Target"}}}},"operatorToken":"==","right":{"literalExpressionInfo":{"token":"null"}}}}}},"statement":{"throwStatementInfo":{"throwKeyword":"throw","expression":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"InvalidOperationException"}},"argumentList":{}}},"startLine":149}},"startLine":148}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"intEdge","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"PolyIntEdge"}},"argumentList":{"arguments":[{"expression":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"nodeIdToIndex"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"edge"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Source"}}}}}],"closeBracketToken":"]"}}}},{"expression":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"nodeIdToIndex"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"edge"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Target"}}}}}],"closeBracketToken":"]"}}}},{"expression":{"identifierNameInfo":{"identifier":"edge"}}}]}}}}}]},"startLine":151}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"intEdges"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"intEdge"}}}},"startLine":153}},{"expressionStatementInfo":{"expression":{"postfixUnaryExpressionInfo":{"operand":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"++"}},"startLine":154}}],"startLine":146}},"startLine":146}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"IntGraph"}},"operatorToken":"=","right":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"genericNameInfo":{"identifier":"BasicGraph","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"Node"}},{"identifierNameInfo":{"identifier":"PolyIntEdge"}}],"greaterThanToken":">"}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"intEdges"}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Count"}}}}}]},"initializer":{"expressions":[{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"Nodes"}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"nodes"}}}}]}}}}},"startLine":157}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"thisExpressionInfo":{"token":"this"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"originalGraph"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"originalGraph"}}}},"startLine":158}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"settings"}}}},"startLine":159}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"Database"}},"operatorToken":"=","right":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"Database"}},"argumentList":{}}}}},"startLine":160}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"PolyIntEdge"}},"identifier":"e","inKeyword":"in","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"IntGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Edges"}}}},"statement":{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"RegisterOriginalEdgeInMultiedges"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"e"}}}]}}},"startLine":162}},"startLine":161}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"CycleRemoval"}},"argumentList":{}}},"startLine":168}}],"startLine":130}},"startLine":130}}],"startLine":129},"comments":["/// <summary>\n/// Simpler constructor which initializes the internal graph representation automatically\n/// </summary>\n/// <param name=\"originalGraph\"></param>\n/// <param name=\"settings\"></param>"]}},{"methodDeclarationInfo":{"modifiers":["internal","static"],"returnType":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"EdgeSpan","parameterList":{"parameters":[{"type":{"arrayTypeInfo":{"elementType":{"predefinedTypeInfo":{"keyword":"int"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"omittedArraySizeExpressionInfo":{}}],"closeBracketToken":"]"}]}},"identifier":"layers"},{"type":{"identifierNameInfo":{"identifier":"PolyIntEdge"}},"identifier":"e"}]},"body":{"statements":[{"returnStatementInfo":{"returnKeyword":"return","expression":{"binaryExpressionInfo":{"left":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layers"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Source"}}}}}],"closeBracketToken":"]"}}},"operatorToken":"-","right":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layers"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Target"}}}}}],"closeBracketToken":"]"}}}}},"startLine":174}}],"startLine":173}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"CreateGluedDagSkeletonForLayering","parameterList":{},"body":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"GluedDagSkeletonForLayering"}},"operatorToken":"=","right":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"genericNameInfo":{"identifier":"BasicGraph","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"Node"}},{"identifierNameInfo":{"identifier":"PolyIntEdge"}}],"greaterThanToken":">"}}},"argumentList":{"arguments":[{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"GluedDagSkeletonEdges"}},"argumentList":{}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Count"}}}}}]}}}}},"startLine":183}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"SetGluedEdgesWeights"}},"argumentList":{}}},"startLine":185}}],"startLine":182},"comments":["/// <summary>\n/// Creating a DAG which glues same layer vertices into one original,\n/// replacing original multiple edges with a single edge.\n/// upDown constraints will be added as edges\n/// </summary>"]}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"SetGluedEdgesWeights","parameterList":{},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"gluedPairsToGluedEdge","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"genericNameInfo":{"identifier":"Dictionary","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"IntPair"}},{"identifierNameInfo":{"identifier":"PolyIntEdge"}}],"greaterThanToken":">"}}},"argumentList":{}}}}}]},"startLine":189}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"PolyIntEdge"}},"identifier":"ie","inKeyword":"in","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"GluedDagSkeletonForLayering"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Edges"}}}},"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"gluedPairsToGluedEdge"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"IntPair"}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"ie"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Source"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"ie"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Target"}}}}}]}}}}],"closeBracketToken":"]"}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"ie"}}}},"startLine":191}},"startLine":190}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"identifier":"t","inKeyword":"in","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Multiedges"}}}},"statement":{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"t"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Key"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"x"}}}},"operatorToken":"!=","right":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"t"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Key"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"y"}}}}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"IntPair"}},"variables":[{"identifier":"gluedPair","initializer":{"equalsToken":"=","value":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"VerticalConstraints"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"GluedIntPair"}}}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"t"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Key"}}}}}]}}}}}]},"startLine":195}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"gluedPair"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"x"}}}},"operatorToken":"==","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"gluedPair"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"y"}}}}}},"statement":{"continueStatementInfo":{"continueKeyword":"continue","startLine":196}},"startLine":196}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"PolyIntEdge"}},"variables":[{"identifier":"gluedIntEdge","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"gluedPairsToGluedEdge"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"gluedPair"}}}],"closeBracketToken":"]"}}}}}]},"startLine":197}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"PolyIntEdge"}},"identifier":"ie","inKeyword":"in","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"t"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Value"}}}},"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"gluedIntEdge"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Weight"}}}},"operatorToken":"+=","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"ie"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Weight"}}}}}},"startLine":199}},"startLine":198}}],"startLine":194}},"startLine":194}},"startLine":193}}],"startLine":188}}},{"methodDeclarationInfo":{"returnType":{"genericNameInfo":{"identifier":"IEnumerable","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"PolyIntEdge"}}],"greaterThanToken":">"}}},"identifier":"GluedDagSkeletonEdges","parameterList":{},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"ret","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"genericNameInfo":{"identifier":"Set","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"PolyIntEdge"}}],"greaterThanToken":">"}}},"argumentList":{"arguments":[{"expression":{"queryExpressionInfo":{"fromClause":{"fromKeyword":"from","identifier":"kv","inKeyword":"in","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Multiedges"}}}}},"body":{"clauses":[{"whereClauseInfo":{"whereKeyword":"where","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"kv"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Key"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"x"}}}},"operatorToken":"!=","right":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"kv"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Key"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"y"}}}}}}}},{"letClauseInfo":{"letKeyword":"let","identifier":"e","equalsToken":"=","expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"VerticalConstraints"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"GluedIntEdge"}}}},"argumentList":{"arguments":[{"expression":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"kv"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Value"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"literalExpressionInfo":{"token":"0"}}}],"closeBracketToken":"]"}}}}]}}}}},{"whereClauseInfo":{"whereKeyword":"where","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Source"}}}},"operatorToken":"!=","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Target"}}}}}}}}],"selectOrGroup":{"selectClauseInfo":{"selectKeyword":"select","expression":{"identifierNameInfo":{"identifier":"e"}}}}}}}}]}}}}}]},"startLine":204}},{"localDeclarationStatementInfo":{"declaration":{"type":{"genericNameInfo":{"identifier":"IEnumerable","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"PolyIntEdge"}}],"greaterThanToken":">"}}},"variables":[{"identifier":"gluedUpDownConstraints","initializer":{"equalsToken":"=","value":{"queryExpressionInfo":{"fromClause":{"fromKeyword":"from","identifier":"p","inKeyword":"in","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"VerticalConstraints"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"GluedUpDownIntConstraints"}}}}},"body":{"selectOrGroup":{"selectClauseInfo":{"selectKeyword":"select","expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"CreateUpDownConstrainedIntEdge"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"p"}}}]}}}}}}}}}}]},"startLine":211}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"PolyIntEdge"}},"identifier":"edge","inKeyword":"in","expression":{"identifierNameInfo":{"identifier":"gluedUpDownConstraints"}},"statement":{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"ret"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Insert"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"edge"}}}]}}},"startLine":214}},"startLine":213}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"identifierNameInfo":{"identifier":"ret"}},"startLine":215}}],"startLine":203}}},{"methodDeclarationInfo":{"modifiers":["static"],"returnType":{"identifierNameInfo":{"identifier":"PolyIntEdge"}},"identifier":"CreateUpDownConstrainedIntEdge","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"IntPair"}},"identifier":"intPair"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"intEdge","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"PolyIntEdge"}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"intPair"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"x"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"intPair"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"y"}}}}}]}}}}}]},"startLine":219}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"intEdge"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Weight"}}}},"operatorToken":"=","right":{"literalExpressionInfo":{"token":"0"}}}},"startLine":220}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"intEdge"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Separation"}}}},"operatorToken":"=","right":{"literalExpressionInfo":{"token":"1"}}}},"startLine":222,"comments":["//we do not want the edge weight to contribute in to the sum but just take the constraint into account"]}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"identifierNameInfo":{"identifier":"intEdge"}},"startLine":223}}],"startLine":218}}},{"methodDeclarationInfo":{"modifiers":["override","protected"],"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"RunInternal","parameterList":{},"body":{"statements":[{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Count"}}}},"operatorToken":">","right":{"literalExpressionInfo":{"token":"0"}}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"engineLayerArrays"}},"operatorToken":"=","right":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"CalculateLayers"}},"argumentList":{}}}}},"startLine":244}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"prefixUnaryExpressionInfo":{"operatorToken":"!","operand":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LayeringOnly"}}}}}},"statement":{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"RunPostLayering"}},"argumentList":{}}},"startLine":247}},"startLine":246}}],"startLine":243}},"elseInfo":{"elseKeyword":"else","statement":{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"boundingBox"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"SetToEmpty"}}}},"argumentList":{}}},"startLine":249}}},"startLine":243}}],"startLine":234},"comments":["/// <summary>\n/// The main calculation is done here\n/// </summary>"]}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"RunPostLayering","parameterList":{},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"EdgeRoutingSettings"}},"variables":[{"identifier":"routingSettings","initializer":{"equalsToken":"=","value":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"EdgeRoutingSettings"}}}}}}]},"startLine":271}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"mode","initializer":{"equalsToken":"=","value":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"routingSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"EdgeRoutingMode"}}}}}}]},"startLine":272}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"constrainedOrdering"}},"operatorToken":"!=","right":{"literalExpressionInfo":{"token":"null"}}}},"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"mode"}},"operatorToken":"=","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"EdgeRoutingMode"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Spline"}}}}}},"startLine":274}},"startLine":273}},{"switchStatementInfo":{"switchKeyword":"switch","expression":{"identifierNameInfo":{"identifier":"mode"}},"sections":[{"labels":[{"caseSwitchLabelInfo":{"keyword":"case","value":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"EdgeRoutingMode"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"SugiyamaSplines"}}}},"colonToken":":"}}],"statements":[{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"CalculateEdgeSplines"}},"argumentList":{}}},"startLine":277}},{"breakStatementInfo":{"breakKeyword":"break","startLine":278}}]},{"labels":[{"caseSwitchLabelInfo":{"keyword":"case","value":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"EdgeRoutingMode"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"StraightLine"}}}},"colonToken":":"}}],"statements":[{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"StraightLineEdges"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"SetStraightLineEdgesWithUnderlyingPolylines"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}}}]}}},"startLine":280}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"SetLabels"}},"argumentList":{}}},"startLine":281}},{"breakStatementInfo":{"breakKeyword":"break","startLine":282}}]},{"labels":[{"caseSwitchLabelInfo":{"keyword":"case","value":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"EdgeRoutingMode"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Spline"}}}},"colonToken":":"}}],"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"padding","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"NodeSeparation"}}}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"4"}}}}}}]},"startLine":284}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"loosePadding","initializer":{"equalsToken":"=","value":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"SplineRouter"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"ComputeLooseSplinePadding"}}}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"NodeSeparation"}}}}},{"expression":{"identifierNameInfo":{"identifier":"padding"}}}]}}}}}]},"startLine":285}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"router","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"SplineRouter"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}}},{"expression":{"identifierNameInfo":{"identifier":"padding"}}},{"expression":{"identifierNameInfo":{"identifier":"loosePadding"}}},{"expression":{"parenthesizedExpressionInfo":{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"Math"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"PI"}}}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"6"}}}}}}},{"expression":{"literalExpressionInfo":{"token":"null"}}}]}}}}}]},"startLine":287}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"router"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Run"}}}},"argumentList":{}}},"startLine":288}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"SetLabels"}},"argumentList":{}}},"startLine":289}},{"breakStatementInfo":{"breakKeyword":"break","startLine":290}}]},{"labels":[{"caseSwitchLabelInfo":{"keyword":"case","value":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"EdgeRoutingMode"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"SplineBundling"}}}},"colonToken":":"}}],"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"coneAngle","initializer":{"equalsToken":"=","value":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"routingSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"ConeAngle"}}}}}}]},"startLine":292}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"padding"}},"operatorToken":"=","right":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"NodeSeparation"}}}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"20"}}}}}},"startLine":293}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"loosePadding"}},"operatorToken":"=","right":{"binaryExpressionInfo":{"left":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"SplineRouter"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"ComputeLooseSplinePadding"}}}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"NodeSeparation"}}}}},{"expression":{"identifierNameInfo":{"identifier":"padding"}}}]}}},"operatorToken":"*","right":{"literalExpressionInfo":{"token":"2"}}}}}},"startLine":294}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"EdgeRoutingSettings"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BundlingSettings"}}}},"operatorToken":"==","right":{"literalExpressionInfo":{"token":"null"}}}},"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"EdgeRoutingSettings"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BundlingSettings"}}}},"operatorToken":"=","right":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"BundlingSettings"}},"argumentList":{}}}}},"startLine":296}},"startLine":295}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"br","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"SplineRouter"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}}},{"expression":{"identifierNameInfo":{"identifier":"padding"}}},{"expression":{"identifierNameInfo":{"identifier":"loosePadding"}}},{"expression":{"identifierNameInfo":{"identifier":"coneAngle"}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"EdgeRoutingSettings"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BundlingSettings"}}}}}]}}}}}]},"startLine":297}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"br"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Run"}}}},"argumentList":{}}},"startLine":299}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"SetLabels"}},"argumentList":{}}},"startLine":300}},{"breakStatementInfo":{"breakKeyword":"break","startLine":301}}]},{"labels":[{"caseSwitchLabelInfo":{"keyword":"case","value":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"EdgeRoutingMode"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Rectilinear"}}}},"colonToken":":"}},{"caseSwitchLabelInfo":{"keyword":"case","value":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"EdgeRoutingMode"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"RectilinearToCenter"}}}},"colonToken":":"}}],"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"rer","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"RectilinearEdgeRouter"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}}},{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"NodeSeparation"}}}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"3"}}}}},{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"NodeSeparation"}}}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"4"}}}}},{"expression":{"literalExpressionInfo":{"token":"true"}}}]}}}}}],"comments":["//todo: are these good values?"]},"startLine":305,"comments":["//todo: are these good values?"]}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"rer"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"RouteToCenterOfObstacles"}}}},"operatorToken":"=","right":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"routingSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"EdgeRoutingMode"}}}},"operatorToken":"==","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"EdgeRoutingMode"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"RectilinearToCenter"}}}}}}}},"startLine":308}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"rer"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BendPenaltyAsAPercentageOfDistance"}}}},"operatorToken":"=","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"routingSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BendPenalty"}}}}}},"startLine":310}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"rer"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Run"}}}},"argumentList":{}}},"startLine":311}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"SetLabels"}},"argumentList":{}}},"startLine":312}},{"breakStatementInfo":{"breakKeyword":"break","startLine":313}}]}],"startLine":275}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BoundingBox"}}}},"operatorToken":"=","right":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"PumpTheBoxToTheGraphWithMargins"}}}},"argumentList":{}}}}},"startLine":315}}],"startLine":262}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"SetLabels","parameterList":{},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"edgeLabeller","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"EdgeLabelPlacement"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}}}]}}}}}]},"startLine":326}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"edgeLabeller"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Run"}}}},"argumentList":{}}},"startLine":327}}],"startLine":325}}},{"methodDeclarationInfo":{"modifiers":["public"],"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"IncrementalRun","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"Node"}},"identifier":"node"}]},"body":{"statements":[{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"PushLayers"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"node"}}}]}}},"startLine":332}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"RunPostLayering"}},"argumentList":{}}},"startLine":334,"comments":["// LayoutAlgorithmSettings.ShowDatabase(database);"]}}],"startLine":331}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"PushLayers","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"Node"}},"identifier":"node"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"nodeIndex","initializer":{"equalsToken":"=","value":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"IntGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"TakeWhile"}}}},"argumentList":{"arguments":[{"expression":{"simpleLambdaExpressionInfo":{"parameter":{"identifier":"n"},"arrowToken":"=>","expressionBody":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"node"}},"operatorToken":"!=","right":{"identifierNameInfo":{"identifier":"n"}}}},"body":{"error":true}}}}]}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Count"}}}},"argumentList":{}}}}}]},"startLine":338}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Anchor"}},"variables":[{"identifier":"nodeAnchor","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"nodeIndex"}}}],"closeBracketToken":"]"}}}}}]},"startLine":340}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"delWidth","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"literalExpressionInfo":{"token":"0.5"}},"operatorToken":"*","right":{"parenthesizedExpressionInfo":{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"node"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BoundaryCurve"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BoundingBox"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Width"}}}},"operatorToken":"-","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"nodeAnchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Width"}}}}}}}}}}}}]},"startLine":343}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"delHight","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"literalExpressionInfo":{"token":"0.5"}},"operatorToken":"*","right":{"parenthesizedExpressionInfo":{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"node"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BoundaryCurve"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BoundingBox"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Height"}}}},"operatorToken":"-","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"nodeAnchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Height"}}}}}}}}}}}}]},"startLine":345}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"nodeAnchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"RightAnchor"}}}},"operatorToken":"+=","right":{"identifierNameInfo":{"identifier":"delWidth"}}}},"startLine":347}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"nodeAnchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LeftAnchor"}}}},"operatorToken":"+=","right":{"identifierNameInfo":{"identifier":"delWidth"}}}},"startLine":348}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"nodeAnchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"TopAnchor"}}}},"operatorToken":"+=","right":{"identifierNameInfo":{"identifier":"delHight"}}}},"startLine":349}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"nodeAnchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BottomAnchor"}}}},"operatorToken":"+=","right":{"identifierNameInfo":{"identifier":"delHight"}}}},"startLine":350}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"nodeAnchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Node"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"node"}}}},"startLine":351}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"PushDownLowerLayers"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"delHight"}}},{"expression":{"identifierNameInfo":{"identifier":"nodeIndex"}}}]}}},"startLine":353}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"PushUpUpperLayers"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"delHight"}}},{"expression":{"identifierNameInfo":{"identifier":"nodeIndex"}}}]}}},"startLine":354}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"xLayoutGraph"}},"operatorToken":"!=","right":{"literalExpressionInfo":{"token":"null"}}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"FixEdgeSeparation"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"nodeIndex"}}}]}}},"startLine":357}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"CalculateXLayersByGansnerNorthOnProperLayeredGraph"}},"argumentList":{}}},"startLine":358}}],"startLine":356}},"elseInfo":{"elseKeyword":"else","statement":{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"CalculateXPositionsByBrandes"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"engineLayerArrays"}}}]}}},"startLine":360}}},"startLine":356}},{"forStatementInfo":{"forKeyword":"for","declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"i","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0"}}}}]},"firstSemicolonToken":";","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"<","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"IntGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"NodeCount"}}}}}},"secondSemicolonToken":";","incrementors":[{"postfixUnaryExpressionInfo":{"operand":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"++"}}],"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Node"}},"variables":[{"identifier":"n","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"IntGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}}}}]},"startLine":363}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Anchor"}},"variables":[{"identifier":"a","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}}}}]},"startLine":364}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"n"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Center"}}}},"operatorToken":"=","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Origin"}}}}}},"startLine":365}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Node"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"n"}}}},"startLine":366}}],"startLine":362}},"startLine":362}}],"startLine":337}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"FixEdgeSeparation","parameterList":{"parameters":[{"type":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"nodeIndex"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"nodeLayerIndex","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"engineLayerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"nodeIndex"}}}],"closeBracketToken":"]"}}}}}]},"startLine":371}},{"localDeclarationStatementInfo":{"declaration":{"type":{"arrayTypeInfo":{"elementType":{"predefinedTypeInfo":{"keyword":"int"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"omittedArraySizeExpressionInfo":{}}],"closeBracketToken":"]"}]}},"variables":[{"identifier":"layer","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"engineLayerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Layers"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"nodeLayerIndex"}}}],"closeBracketToken":"]"}}}}}]},"startLine":372}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"nodePosition","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"engineLayerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"nodeIndex"}}}],"closeBracketToken":"]"}}}}}]},"startLine":373}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Anchor"}},"variables":[{"identifier":"a","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"nodeIndex"}}}],"closeBracketToken":"]"}}}}}]},"startLine":374}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"nodePosition"}},"operatorToken":">","right":{"literalExpressionInfo":{"token":"0"}}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"target","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layer"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"nodePosition"}},"operatorToken":"-","right":{"literalExpressionInfo":{"token":"1"}}}}}],"closeBracketToken":"]"}}}}}]},"startLine":376}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"PolyIntEdge"}},"identifier":"ie","inKeyword":"in","expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"xLayoutGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"OutEdges"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"nodeIndex"}}}]}}},"statement":{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"ie"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Target"}}}},"operatorToken":"==","right":{"identifierNameInfo":{"identifier":"target"}}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"ie"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Separation"}}}},"operatorToken":"=","right":{"castExpressionInfo":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"expression":{"parenthesizedExpressionInfo":{"expression":{"binaryExpressionInfo":{"left":{"binaryExpressionInfo":{"left":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"NodeSeparation"}}}},"operatorToken":"+","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LeftAnchor"}}}}}},"operatorToken":"+","right":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"target"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"RightAnchor"}}}}}},"operatorToken":"+","right":{"literalExpressionInfo":{"token":"1"}}}}}}}}}},"startLine":379}},{"breakStatementInfo":{"breakKeyword":"break","startLine":381}}],"startLine":378}},"startLine":378}},"startLine":377}}],"startLine":375}},"startLine":375}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"nodePosition"}},"operatorToken":"<","right":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layer"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}},"operatorToken":"-","right":{"literalExpressionInfo":{"token":"1"}}}}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"source","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layer"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"nodePosition"}},"operatorToken":"+","right":{"literalExpressionInfo":{"token":"1"}}}}}],"closeBracketToken":"]"}}}}}]},"startLine":385}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"PolyIntEdge"}},"identifier":"ie","inKeyword":"in","expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"xLayoutGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"InEdges"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"nodeIndex"}}}]}}},"statement":{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"ie"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Source"}}}},"operatorToken":"==","right":{"identifierNameInfo":{"identifier":"source"}}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"ie"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Separation"}}}},"operatorToken":"=","right":{"castExpressionInfo":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"expression":{"parenthesizedExpressionInfo":{"expression":{"binaryExpressionInfo":{"left":{"binaryExpressionInfo":{"left":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"NodeSeparation"}}}},"operatorToken":"+","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"RightAnchor"}}}}}},"operatorToken":"+","right":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"source"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LeftAnchor"}}}}}},"operatorToken":"+","right":{"literalExpressionInfo":{"token":"1"}}}}}}}}}},"startLine":388}},{"breakStatementInfo":{"breakKeyword":"break","startLine":390}}],"startLine":387}},"startLine":387}},"startLine":386}}],"startLine":384}},"startLine":384}}],"startLine":370}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"MoveNode","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"Point"}},"identifier":"del"},{"type":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"i"}]},"body":{"statements":[{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"<","right":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"IntGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Count"}}}}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Node"}},"variables":[{"identifier":"node","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"IntGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}}}}]},"startLine":398}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"node"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Center"}}}},"operatorToken":"+=","right":{"identifierNameInfo":{"identifier":"del"}}}},"startLine":399}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Node"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"node"}}}},"startLine":400}}],"startLine":397}},"startLine":397}}],"startLine":396}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"PushUpUpperLayers","parameterList":{"parameters":[{"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"delHight"},{"type":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"nodeIndex"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"delta","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"Point"}},"argumentList":{"arguments":[{"expression":{"literalExpressionInfo":{"token":"0"}}},{"expression":{"identifierNameInfo":{"identifier":"delHight"}}}]}}}}}]},"startLine":406}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"layerIndex","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"engineLayerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"nodeIndex"}}}],"closeBracketToken":"]"}}}}}]},"startLine":407}},{"forStatementInfo":{"forKeyword":"for","declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"i","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"layerIndex"}},"operatorToken":"+","right":{"literalExpressionInfo":{"token":"1"}}}}}}]},"firstSemicolonToken":";","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"<","right":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"engineLayerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Layers"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}}}},"secondSemicolonToken":";","incrementors":[{"postfixUnaryExpressionInfo":{"operand":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"++"}}],"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"arrayTypeInfo":{"elementType":{"predefinedTypeInfo":{"keyword":"int"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"omittedArraySizeExpressionInfo":{}}],"closeBracketToken":"]"}]}},"variables":[{"identifier":"layer","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"engineLayerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Layers"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}}}}]},"startLine":409}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"j","inKeyword":"in","expression":{"identifierNameInfo":{"identifier":"layer"}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"MoveNode"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"delta"}}},{"expression":{"identifierNameInfo":{"identifier":"j"}}}]}}},"startLine":411}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"j"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Move"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"delta"}}}]}}},"startLine":412}}],"startLine":410}},"startLine":410}}],"startLine":408}},"startLine":408}}],"startLine":405}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"PushDownLowerLayers","parameterList":{"parameters":[{"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"delHight"},{"type":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"nodeIndex"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"delta","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"Point"}},"argumentList":{"arguments":[{"expression":{"literalExpressionInfo":{"token":"0"}}},{"expression":{"prefixUnaryExpressionInfo":{"operatorToken":"-","operand":{"identifierNameInfo":{"identifier":"delHight"}}}}}]}}}}}]},"startLine":418}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"layerIndex","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"engineLayerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"nodeIndex"}}}],"closeBracketToken":"]"}}}}}]},"startLine":419}},{"forStatementInfo":{"forKeyword":"for","declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"i","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0"}}}}]},"firstSemicolonToken":";","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"<","right":{"identifierNameInfo":{"identifier":"layerIndex"}}}},"secondSemicolonToken":";","incrementors":[{"postfixUnaryExpressionInfo":{"operand":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"++"}}],"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"arrayTypeInfo":{"elementType":{"predefinedTypeInfo":{"keyword":"int"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"omittedArraySizeExpressionInfo":{}}],"closeBracketToken":"]"}]}},"variables":[{"identifier":"layer","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"engineLayerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Layers"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}}}}]},"startLine":421}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"j","inKeyword":"in","expression":{"identifierNameInfo":{"identifier":"layer"}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"MoveNode"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"delta"}}},{"expression":{"identifierNameInfo":{"identifier":"j"}}}]}}},"startLine":423}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"j"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Move"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"delta"}}}]}}},"startLine":424}}],"startLine":422}},"startLine":422}}],"startLine":420}},"startLine":420}}],"startLine":417}}},{"methodDeclarationInfo":{"returnType":{"identifierNameInfo":{"identifier":"LayerArrays"}},"identifier":"CalculateLayers","parameterList":{},"body":{"statements":[{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"CreateGluedDagSkeletonForLayering"}},"argumentList":{}}},"startLine":430}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"LayerArrays"}},"variables":[{"identifier":"layerArrays","initializer":{"equalsToken":"=","value":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"CalculateLayerArrays"}},"argumentList":{}}}}}]},"startLine":445}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"UpdateNodePositionData"}},"argumentList":{}}},"startLine":447}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"identifierNameInfo":{"identifier":"layerArrays"}},"startLine":460}}],"startLine":429}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"UpdateNodePositionData","parameterList":{},"body":{"statements":[{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"TryToSatisfyMinWidhtAndMinHeight"}},"argumentList":{}}},"startLine":468}},{"forStatementInfo":{"forKeyword":"for","declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"i","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0"}}}}]},"firstSemicolonToken":";","condition":{"binaryExpressionInfo":{"left":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"<","right":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"IntGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Count"}}}}}},"operatorToken":"&&","right":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"<","right":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}}}}}},"secondSemicolonToken":";","incrementors":[{"postfixUnaryExpressionInfo":{"operand":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"++"}}],"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"IntGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Center"}}}},"operatorToken":"=","right":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Origin"}}}}}},"startLine":471}},"startLine":470}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"thisExpressionInfo":{"token":"this"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"GridSizeByX"}}}},"operatorToken":">","right":{"literalExpressionInfo":{"token":"0"}}}},"statement":{"blockInfo":{"statements":[{"forStatementInfo":{"forKeyword":"for","declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"i","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0"}}}}]},"firstSemicolonToken":";","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"<","right":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Count"}}}}}},"secondSemicolonToken":";","incrementors":[{"postfixUnaryExpressionInfo":{"operand":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"++"}}],"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"SnapLeftSidesOfTheNodeToGrid"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"thisExpressionInfo":{"token":"this"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"GridSizeByX"}}}}}]}}},"startLine":477}}],"startLine":476}},"startLine":475}}],"startLine":474}},"startLine":473}}],"startLine":467},"comments":["/// <summary>\n/// pushes positions from the anchors to node Centers\n/// </summary>"]}},{"methodDeclarationInfo":{"modifiers":["private"],"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"SnapLeftSidesOfTheNodeToGrid","parameterList":{"parameters":[{"type":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"i"},{"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"gridSize"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Node"}},"variables":[{"identifier":"node","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"IntGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}}}}]},"startLine":485}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Anchor"}},"variables":[{"identifier":"anchor","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}}}}]},"startLine":487}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LeftAnchor"}}}},"operatorToken":"-=","right":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"gridSize"}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2"}}}}}},"startLine":488}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"RightAnchor"}}}},"operatorToken":"-=","right":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"gridSize"}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2"}}}}}},"startLine":489}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"left","initializer":{"equalsToken":"=","value":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"node"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BoundingBox"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Left"}}}}}}]},"startLine":491}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"k","initializer":{"equalsToken":"=","value":{"castExpressionInfo":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"expression":{"parenthesizedExpressionInfo":{"expression":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"left"}},"operatorToken":"/","right":{"identifierNameInfo":{"identifier":"gridSize"}}}}}}}}}}]},"startLine":492}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"delta","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"left"}},"operatorToken":"-","right":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"k"}},"operatorToken":"*","right":{"identifierNameInfo":{"identifier":"gridSize"}}}}}}}}]},"startLine":493}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"Math"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Abs"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"delta"}}}]}}},"operatorToken":"<","right":{"literalExpressionInfo":{"token":"0.001"}}}},"statement":{"blockInfo":{"statements":[{"returnStatementInfo":{"returnKeyword":"return","startLine":497}}],"startLine":496}},"startLine":495}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"Math"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Abs"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"delta"}}}]}}},"operatorToken":"<=","right":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"gridSize"}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2"}}}}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"node"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Center"}}}},"operatorToken":"+=","right":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"Point"}},"argumentList":{"arguments":[{"expression":{"prefixUnaryExpressionInfo":{"operatorToken":"-","operand":{"identifierNameInfo":{"identifier":"delta"}}}}},{"expression":{"literalExpressionInfo":{"token":"0"}}}]}}}}},"startLine":504}}],"startLine":503}},"elseInfo":{"elseKeyword":"else","statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"node"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Center"}}}},"operatorToken":"+=","right":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"Point"}},"argumentList":{"arguments":[{"expression":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"gridSize"}},"operatorToken":"-","right":{"identifierNameInfo":{"identifier":"delta"}}}}},{"expression":{"literalExpressionInfo":{"token":"0"}}}]}}}}},"startLine":509}}],"startLine":508}}},"startLine":502,"comments":["// we are free to shift at least gridSize horizontally","// find the minimal shift"]}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}},"operatorToken":"=","right":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"node"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Center"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}}}},"startLine":511}}],"startLine":484}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"TryToSatisfyMinWidhtAndMinHeight","parameterList":{},"body":{"statements":[{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"TryToSatisfyMinWidth"}},"argumentList":{}}},"startLine":515}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"TryToSatisfyMinHeight"}},"argumentList":{}}},"startLine":516}}],"startLine":514}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"TryToSatisfyMinWidth","parameterList":{},"body":{"statements":[{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"MinimalWidth"}}}},"operatorToken":"==","right":{"literalExpressionInfo":{"token":"0"}}}},"statement":{"returnStatementInfo":{"returnKeyword":"return","startLine":521}},"startLine":520}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"w","initializer":{"equalsToken":"=","value":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"GetCurrentWidth"}},"argumentList":{}}}}}]},"startLine":522}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"w"}},"operatorToken":"<","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"MinimalWidth"}}}}}},"statement":{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"StretchWidth"}},"argumentList":{}}},"startLine":524}},"startLine":523}}],"startLine":519}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"StretchWidth","parameterList":{},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"desiredSpan","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"RealNumberSpan"}},"argumentList":{}}}}}],"comments":["//calculate the desired span of the anchor centers and the current span of anchor center"]},"startLine":531,"comments":["//calculate the desired span of the anchor centers and the current span of anchor center"]}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"Node"}},"identifier":"node","inKeyword":"in","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"desiredSpan"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"AddValue"}}}},"argumentList":{"arguments":[{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"node"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BoundingBox"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Width"}}}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2"}}}}}]}}},"startLine":533}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"desiredSpan"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"AddValue"}}}},"argumentList":{"arguments":[{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"MinimalWidth"}}}},"operatorToken":"-","right":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"node"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BoundingBox"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Width"}}}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2"}}}}}}}]}}},"startLine":534}}],"startLine":532}},"startLine":532}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"currentSpan","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"RealNumberSpan"}},"argumentList":{}}}}}]},"startLine":537}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"Anchor"}},"identifier":"anchor","inKeyword":"in","expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"NodeAnchors"}},"argumentList":{}}},"statement":{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"currentSpan"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"AddValue"}}}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}}}]}}},"startLine":539}},"startLine":538}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"currentSpan"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}},"operatorToken":">","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"ApproximateComparer"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"DistanceEpsilon"}}}}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"stretch","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"desiredSpan"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}},"operatorToken":"/","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"currentSpan"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}}}}}}]},"startLine":542}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"stretch"}},"operatorToken":">","right":{"literalExpressionInfo":{"token":"1"}}}},"statement":{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"Anchor"}},"identifier":"a","inKeyword":"in","expression":{"identifierNameInfo":{"identifier":"anchors"}},"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}},"operatorToken":"*=","right":{"identifierNameInfo":{"identifier":"stretch"}}}},"startLine":545}},"startLine":544}},"startLine":543}}],"startLine":541}},"startLine":541}}],"startLine":529},"comments":["/// <summary>\n/// </summary>"]}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"TryToSatisfyMinHeight","parameterList":{},"body":{"statements":[{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"MinimalHeight"}}}},"operatorToken":"==","right":{"literalExpressionInfo":{"token":"0"}}}},"statement":{"returnStatementInfo":{"returnKeyword":"return","startLine":551}},"startLine":550}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"h","initializer":{"equalsToken":"=","value":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"GetCurrentHeight"}},"argumentList":{}}}}}]},"startLine":552}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"h"}},"operatorToken":"<","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"MinimalHeight"}}}}}},"statement":{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"StretchHeight"}},"argumentList":{}}},"startLine":554}},"startLine":553}}],"startLine":549}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"GetCurrentHeight","parameterList":{},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"span","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"RealNumberSpan"}},"argumentList":{}}}}}]},"startLine":558}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"Anchor"}},"identifier":"anchor","inKeyword":"in","expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"NodeAnchors"}},"argumentList":{}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"span"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"AddValue"}}}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Top"}}}}}]}}},"startLine":560}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"span"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"AddValue"}}}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Bottom"}}}}}]}}},"startLine":561}}],"startLine":559}},"startLine":559}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"span"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}},"startLine":563}}],"startLine":557}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"StretchHeight","parameterList":{},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"desiredSpan","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"RealNumberSpan"}},"argumentList":{}}}}}]},"startLine":567}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"Node"}},"identifier":"node","inKeyword":"in","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"desiredSpan"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"AddValue"}}}},"argumentList":{"arguments":[{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"node"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BoundingBox"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Height"}}}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2"}}}}}]}}},"startLine":569}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"desiredSpan"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"AddValue"}}}},"argumentList":{"arguments":[{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"MinimalHeight"}}}},"operatorToken":"-","right":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"node"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BoundingBox"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Height"}}}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2"}}}}}}}]}}},"startLine":570}}],"startLine":568}},"startLine":568}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"currentSpan","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"RealNumberSpan"}},"argumentList":{}}}}}]},"startLine":573}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"Anchor"}},"identifier":"anchor","inKeyword":"in","expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"NodeAnchors"}},"argumentList":{}}},"statement":{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"currentSpan"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"AddValue"}}}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}}}]}}},"startLine":575}},"startLine":574}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"currentSpan"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}},"operatorToken":">","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"ApproximateComparer"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"DistanceEpsilon"}}}}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"stretch","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"desiredSpan"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}},"operatorToken":"/","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"currentSpan"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}}}}}}]},"startLine":578}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"stretch"}},"operatorToken":">","right":{"literalExpressionInfo":{"token":"1"}}}},"statement":{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"Anchor"}},"identifier":"a","inKeyword":"in","expression":{"identifierNameInfo":{"identifier":"anchors"}},"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}},"operatorToken":"*=","right":{"identifierNameInfo":{"identifier":"stretch"}}}},"startLine":581}},"startLine":580}},"startLine":579}}],"startLine":577}},"startLine":577}}],"startLine":566}}},{"methodDeclarationInfo":{"returnType":{"genericNameInfo":{"identifier":"IEnumerable","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"Anchor"}}],"greaterThanToken":">"}}},"identifier":"NodeAnchors","parameterList":{},"body":{"statements":[{"returnStatementInfo":{"returnKeyword":"return","expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Take"}}}},"argumentList":{"arguments":[{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"Math"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Min"}}}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"IntGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Count"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}}}]}}}}]}}},"startLine":586}}],"startLine":585}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"GetCurrentWidth","parameterList":{},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"span","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"RealNumberSpan"}},"argumentList":{}}}}}]},"startLine":590}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"Anchor"}},"identifier":"anchor","inKeyword":"in","expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"NodeAnchors"}},"argumentList":{}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"span"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"AddValue"}}}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Left"}}}}}]}}},"startLine":592}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"span"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"AddValue"}}}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Right"}}}}}]}}},"startLine":593}}],"startLine":591}},"startLine":591}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"span"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}},"startLine":595}}],"startLine":589}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"StretchToDesiredAspectRatio","parameterList":{"parameters":[{"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"aspectRatio"},{"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"desiredAR"}]},"body":{"statements":[{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"aspectRatio"}},"operatorToken":">","right":{"identifierNameInfo":{"identifier":"desiredAR"}}}},"statement":{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"StretchInYDirection"}},"argumentList":{"arguments":[{"expression":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"aspectRatio"}},"operatorToken":"/","right":{"identifierNameInfo":{"identifier":"desiredAR"}}}}}]}}},"startLine":601}},"elseInfo":{"elseKeyword":"else","statement":{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"aspectRatio"}},"operatorToken":"<","right":{"identifierNameInfo":{"identifier":"desiredAR"}}}},"statement":{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"StretchInXDirection"}},"argumentList":{"arguments":[{"expression":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"desiredAR"}},"operatorToken":"/","right":{"identifierNameInfo":{"identifier":"aspectRatio"}}}}}]}}},"startLine":603}},"startLine":602}}},"startLine":600}}],"startLine":599}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"StretchInYDirection","parameterList":{"parameters":[{"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"scaleFactor"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"center","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"parenthesizedExpressionInfo":{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BoundingBox"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Top"}}}},"operatorToken":"+","right":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BoundingBox"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Bottom"}}}}}}}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2"}}}}}}]},"startLine":607}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"Anchor"}},"identifier":"a","inKeyword":"in","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"Database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BottomAnchor"}}}},"operatorToken":"*=","right":{"identifierNameInfo":{"identifier":"scaleFactor"}}}},"startLine":609}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"TopAnchor"}}}},"operatorToken":"*=","right":{"identifierNameInfo":{"identifier":"scaleFactor"}}}},"startLine":610}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}},"operatorToken":"=","right":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"center"}},"operatorToken":"+","right":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"scaleFactor"}},"operatorToken":"*","right":{"parenthesizedExpressionInfo":{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}},"operatorToken":"-","right":{"identifierNameInfo":{"identifier":"center"}}}}}}}}}}}},"startLine":611}}],"startLine":608}},"startLine":608}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"h","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Height"}}}},"operatorToken":"*","right":{"identifierNameInfo":{"identifier":"scaleFactor"}}}}}}]},"startLine":613}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BoundingBox"}}}},"operatorToken":"=","right":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"Rectangle"}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BoundingBox"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Left"}}}}},{"expression":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"center"}},"operatorToken":"+","right":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"h"}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2"}}}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BoundingBox"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Right"}}}}},{"expression":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"center"}},"operatorToken":"-","right":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"h"}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2"}}}}}}}]}}}}},"startLine":614}}],"startLine":606}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"StretchInXDirection","parameterList":{"parameters":[{"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"scaleFactor"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"center","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"parenthesizedExpressionInfo":{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BoundingBox"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Left"}}}},"operatorToken":"+","right":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BoundingBox"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Right"}}}}}}}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2"}}}}}}]},"startLine":619}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"Anchor"}},"identifier":"a","inKeyword":"in","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"Database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LeftAnchor"}}}},"operatorToken":"*=","right":{"identifierNameInfo":{"identifier":"scaleFactor"}}}},"startLine":621}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"RightAnchor"}}}},"operatorToken":"*=","right":{"identifierNameInfo":{"identifier":"scaleFactor"}}}},"startLine":622}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}},"operatorToken":"=","right":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"center"}},"operatorToken":"+","right":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"scaleFactor"}},"operatorToken":"*","right":{"parenthesizedExpressionInfo":{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}},"operatorToken":"-","right":{"identifierNameInfo":{"identifier":"center"}}}}}}}}}}}},"startLine":623}}],"startLine":620}},"startLine":620}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"w","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Width"}}}},"operatorToken":"*","right":{"identifierNameInfo":{"identifier":"scaleFactor"}}}}}}]},"startLine":625}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BoundingBox"}}}},"operatorToken":"=","right":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"Rectangle"}},"argumentList":{"arguments":[{"expression":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"center"}},"operatorToken":"-","right":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"w"}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2"}}}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BoundingBox"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Top"}}}}},{"expression":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"center"}},"operatorToken":"+","right":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"w"}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2"}}}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BoundingBox"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Bottom"}}}}}]}}}}},"startLine":626}}],"startLine":618}}},{"methodDeclarationInfo":{"returnType":{"identifierNameInfo":{"identifier":"LayerArrays"}},"identifier":"CalculateLayerArrays","parameterList":{},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"LayerArrays"}},"variables":[{"identifier":"layerArrays","initializer":{"equalsToken":"=","value":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"CalculateYLayers"}},"argumentList":{}}}}}]},"startLine":631}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"constrainedOrdering"}},"operatorToken":"==","right":{"literalExpressionInfo":{"token":"null"}}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"DecideIfUsingFastXCoordCalculation"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}}}]}}},"startLine":634}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"CalculateAnchorsAndYPositions"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}}}]}}},"startLine":636}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"identifierNameInfo":{"identifier":"Brandes"}},"statement":{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"CalculateXPositionsByBrandes"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}}}]}}},"startLine":639}},"elseInfo":{"elseKeyword":"else","statement":{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"CalculateXLayersByGansnerNorth"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}}}]}}},"startLine":641}}},"startLine":638}}],"startLine":633}},"elseInfo":{"elseKeyword":"else","statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"anchors"}},"operatorToken":"=","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}}}},"startLine":643}}},"startLine":633}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"OptimizeEdgeLabelsLocations"}},"argumentList":{}}},"startLine":645}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"engineLayerArrays"}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"layerArrays"}}}},"startLine":647}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"StraightensShortEdges"}},"argumentList":{}}},"startLine":648}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"aspectRatio"}]},"startLine":650}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"CalculateOriginalGraphBox"}},"argumentList":{"arguments":[{"refOrOutKeyword":"out","refKindKeyword":"out","expression":{"identifierNameInfo":{"identifier":"aspectRatio"}}}]}}},"startLine":651}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"AspectRatio"}}}},"operatorToken":"!=","right":{"literalExpressionInfo":{"token":"0"}}}},"statement":{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"StretchToDesiredAspectRatio"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"aspectRatio"}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"AspectRatio"}}}}}]}}},"startLine":654}},"startLine":653}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"identifierNameInfo":{"identifier":"layerArrays"}},"startLine":656}}],"startLine":630}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"DecideIfUsingFastXCoordCalculation","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"LayerArrays"}},"identifier":"layerArrays"}]},"body":{"statements":[{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}},"operatorToken":">=","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BrandesThreshold"}}}}}},"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"Brandes"}},"operatorToken":"=","right":{"literalExpressionInfo":{"token":"true"}}}},"startLine":661}},"elseInfo":{"elseKeyword":"else","statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"string"}},"variables":[{"identifier":"s","initializer":{"equalsToken":"=","value":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"Environment"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"GetEnvironmentVariable"}}}},"argumentList":{"arguments":[{"expression":{"literalExpressionInfo":{"token":"\"Brandes\""}}}]}}}}}]},"startLine":663}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"prefixUnaryExpressionInfo":{"operatorToken":"!","operand":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"String"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"IsNullOrEmpty"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"s"}}}]}}}}},"operatorToken":"&&","right":{"binaryExpressionInfo":{"left":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"String"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Compare"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"s"}}},{"expression":{"literalExpressionInfo":{"token":"\"on\""}}},{"expression":{"literalExpressionInfo":{"token":"true"}}}]}}},"operatorToken":"==","right":{"literalExpressionInfo":{"token":"0"}}}}}},"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"Brandes"}},"operatorToken":"=","right":{"literalExpressionInfo":{"token":"true"}}}},"startLine":665}},"startLine":664}}],"startLine":662}}},"startLine":660}}],"startLine":659}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"StraightensShortEdges","parameterList":{},"body":{"statements":[{"forStatementInfo":{"forKeyword":"for","firstSemicolonToken":";","condition":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"StraightenEdgePaths"}},"argumentList":{}}},"secondSemicolonToken":";","statement":{"blockInfo":{"startLine":670}},"startLine":670}}],"startLine":669}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"bool"}},"identifier":"StraightenEdgePaths","parameterList":{},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"bool"}},"variables":[{"identifier":"ret","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"false"}}}}]},"startLine":675}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"PolyIntEdge"}},"identifier":"e","inKeyword":"in","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"AllIntEdges"}}}},"statement":{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LayerSpan"}}}},"operatorToken":"==","right":{"literalExpressionInfo":{"token":"2"}}}},"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"ret"}},"operatorToken":"=","right":{"binaryExpressionInfo":{"left":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"ShiftVertexWithNeighbors"}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LayerEdges"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"literalExpressionInfo":{"token":"0"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Source"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LayerEdges"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"literalExpressionInfo":{"token":"0"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Target"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LayerEdges"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"literalExpressionInfo":{"token":"1"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Target"}}}}}]}}},"operatorToken":"||","right":{"identifierNameInfo":{"identifier":"ret"}}}}}},"startLine":678}},"startLine":677}},"startLine":676}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"identifierNameInfo":{"identifier":"ret"}},"startLine":681}}],"startLine":674}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"bool"}},"identifier":"ShiftVertexWithNeighbors","parameterList":{"parameters":[{"type":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"u"},{"type":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"i"},{"type":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"v"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Anchor"}},"variables":[{"identifier":"upper","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"u"}}}],"closeBracketToken":"]"}}}}}]},"startLine":691}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Anchor"}},"variables":[{"identifier":"lower","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"v"}}}],"closeBracketToken":"]"}}}}}]},"startLine":692}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Anchor"}},"variables":[{"identifier":"iAnchor","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}}}}]},"startLine":693}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"x","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"binaryExpressionInfo":{"left":{"binaryExpressionInfo":{"left":{"parenthesizedExpressionInfo":{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"iAnchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}},"operatorToken":"-","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"upper"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}}}}}},"operatorToken":"*","right":{"parenthesizedExpressionInfo":{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"lower"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}},"operatorToken":"-","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"upper"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}}}}}}}},"operatorToken":"/","right":{"parenthesizedExpressionInfo":{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"lower"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}},"operatorToken":"-","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"upper"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}}}}}}}},"operatorToken":"+","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"upper"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}}}}}}],"comments":["//calculate the ideal x position for i","// (x- upper.x)/(iAnchor.y-upper.y)=(lower.x-upper.x)/(lower.y-upper.y)"]},"startLine":697,"comments":["//calculate the ideal x position for i","// (x- upper.x)/(iAnchor.y-upper.y)=(lower.x-upper.x)/(lower.y-upper.y)"]}},{"localDeclarationStatementInfo":{"isConst":true,"modifiers":["const"],"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"eps","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0.0001"}}}}]},"startLine":698}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"x"}},"operatorToken":">","right":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"iAnchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}},"operatorToken":"+","right":{"identifierNameInfo":{"identifier":"eps"}}}}}},"statement":{"returnStatementInfo":{"returnKeyword":"return","expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"TryShiftToTheRight"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"x"}}},{"expression":{"identifierNameInfo":{"identifier":"i"}}}]}}},"startLine":700}},"startLine":699}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"x"}},"operatorToken":"<","right":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"iAnchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}},"operatorToken":"-","right":{"identifierNameInfo":{"identifier":"eps"}}}}}},"statement":{"returnStatementInfo":{"returnKeyword":"return","expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"TryShiftToTheLeft"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"x"}}},{"expression":{"identifierNameInfo":{"identifier":"i"}}}]}}},"startLine":702}},"startLine":701}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"literalExpressionInfo":{"token":"false"}},"startLine":703}}],"startLine":690}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"bool"}},"identifier":"TryShiftToTheLeft","parameterList":{"parameters":[{"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"x"},{"type":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"v"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"arrayTypeInfo":{"elementType":{"predefinedTypeInfo":{"keyword":"int"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"omittedArraySizeExpressionInfo":{}}],"closeBracketToken":"]"}]}},"variables":[{"identifier":"layer","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"engineLayerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Layers"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"engineLayerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"v"}}}],"closeBracketToken":"]"}}}}],"closeBracketToken":"]"}}}}}]},"startLine":708}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"vPosition","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"engineLayerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"v"}}}],"closeBracketToken":"]"}}}}}]},"startLine":709}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"vPosition"}},"operatorToken":">","right":{"literalExpressionInfo":{"token":"0"}}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Anchor"}},"variables":[{"identifier":"uAnchor","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layer"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"vPosition"}},"operatorToken":"-","right":{"literalExpressionInfo":{"token":"1"}}}}}],"closeBracketToken":"]"}}}}],"closeBracketToken":"]"}}}}}]},"startLine":711}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"allowedX","initializer":{"equalsToken":"=","value":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"Math"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Max"}}}},"argumentList":{"arguments":[{"expression":{"binaryExpressionInfo":{"left":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"uAnchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Right"}}}},"operatorToken":"+","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"NodeSeparation"}}}}}},"operatorToken":"+","right":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"v"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LeftAnchor"}}}}}}},{"expression":{"identifierNameInfo":{"identifier":"x"}}}]}}}}}]},"startLine":712}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"allowedX"}},"operatorToken":"<","right":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"v"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}},"operatorToken":"-","right":{"literalExpressionInfo":{"token":"1"}}}}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"v"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"allowedX"}}}},"startLine":715}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"literalExpressionInfo":{"token":"true"}},"startLine":716}}],"startLine":714}},"startLine":714}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"literalExpressionInfo":{"token":"false"}},"startLine":718}}],"startLine":710}},"startLine":710}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"v"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"x"}}}},"startLine":720}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"literalExpressionInfo":{"token":"true"}},"startLine":721}}],"startLine":707}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"bool"}},"identifier":"TryShiftToTheRight","parameterList":{"parameters":[{"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"x"},{"type":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"v"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"arrayTypeInfo":{"elementType":{"predefinedTypeInfo":{"keyword":"int"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"omittedArraySizeExpressionInfo":{}}],"closeBracketToken":"]"}]}},"variables":[{"identifier":"layer","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"engineLayerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Layers"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"engineLayerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"v"}}}],"closeBracketToken":"]"}}}}],"closeBracketToken":"]"}}}}}]},"startLine":725}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"vPosition","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"engineLayerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"v"}}}],"closeBracketToken":"]"}}}}}]},"startLine":726}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"vPosition"}},"operatorToken":"<","right":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layer"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}},"operatorToken":"-","right":{"literalExpressionInfo":{"token":"1"}}}}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Anchor"}},"variables":[{"identifier":"uAnchor","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layer"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"vPosition"}},"operatorToken":"+","right":{"literalExpressionInfo":{"token":"1"}}}}}],"closeBracketToken":"]"}}}}],"closeBracketToken":"]"}}}}}]},"startLine":728}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"allowedX","initializer":{"equalsToken":"=","value":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"Math"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Min"}}}},"argumentList":{"arguments":[{"expression":{"binaryExpressionInfo":{"left":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"uAnchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Left"}}}},"operatorToken":"-","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"NodeSeparation"}}}}}},"operatorToken":"-","right":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"v"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"RightAnchor"}}}}}}},{"expression":{"identifierNameInfo":{"identifier":"x"}}}]}}}}}]},"startLine":729}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"allowedX"}},"operatorToken":">","right":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"v"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}},"operatorToken":"+","right":{"literalExpressionInfo":{"token":"1"}}}}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"v"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"allowedX"}}}},"startLine":732}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"literalExpressionInfo":{"token":"true"}},"startLine":733}}],"startLine":731}},"startLine":731}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"literalExpressionInfo":{"token":"false"}},"startLine":735}}],"startLine":727}},"startLine":727}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"v"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"x"}}}},"startLine":737}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"literalExpressionInfo":{"token":"true"}},"startLine":738}}],"startLine":724}}},{"methodDeclarationInfo":{"returnType":{"identifierNameInfo":{"identifier":"LayerArrays"}},"identifier":"CalculateYLayers","parameterList":{},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"LayerArrays"}},"variables":[{"identifier":"layerArrays","initializer":{"equalsToken":"=","value":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"YLayeringAndOrdering"}},"argumentList":{"arguments":[{"expression":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"NetworkSimplexForGeneralGraph"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"GluedDagSkeletonForLayering"}}},{"expression":{"identifierNameInfo":{"identifier":"CancelToken"}}}]}}}}]}}}}}]},"startLine":742}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"constrainedOrdering"}},"operatorToken":"!=","right":{"literalExpressionInfo":{"token":"null"}}}},"statement":{"returnStatementInfo":{"returnKeyword":"return","expression":{"identifierNameInfo":{"identifier":"layerArrays"}},"startLine":745}},"startLine":744}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"InsertLayersIfNeeded"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}}}]}}},"startLine":746}}],"startLine":741}}},{"propertyDeclarationInfo":{"type":{"identifierNameInfo":{"identifier":"VerticalConstraintsForSugiyama"}},"identifier":"VerticalConstraints","accessorList":{"accessors":[{"keyword":"get","body":{"statements":[{"returnStatementInfo":{"returnKeyword":"return","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"VerticalConstraints"}}}},"startLine":750}}],"startLine":750}}]}}},{"propertyDeclarationInfo":{"type":{"identifierNameInfo":{"identifier":"HorizontalConstraintsForSugiyama"}},"identifier":"HorizontalConstraints","accessorList":{"accessors":[{"keyword":"get","body":{"statements":[{"returnStatementInfo":{"returnKeyword":"return","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"HorizontalConstraints"}}}},"startLine":754}}],"startLine":754}}]}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"CalculateAnchorsAndYPositions","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"LayerArrays"}},"identifier":"layerArrays"}]},"body":{"statements":[{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"CalculateAnchorSizes"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"database"}}},{"refOrOutKeyword":"out","refKindKeyword":"out","expression":{"identifierNameInfo":{"identifier":"anchors"}}},{"expression":{"identifierNameInfo":{"identifier":"properLayeredGraph"}}},{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}}},{"expression":{"identifierNameInfo":{"identifier":"IntGraph"}}},{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}}}]}}},"startLine":758}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"CalcInitialYAnchorLocations"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}}},{"expression":{"literalExpressionInfo":{"token":"500"}}},{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}}},{"expression":{"identifierNameInfo":{"identifier":"database"}}},{"expression":{"identifierNameInfo":{"identifier":"IntGraph"}}},{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}}},{"expression":{"identifierNameInfo":{"identifier":"LayersAreDoubled"}}}]}}},"startLine":759}}],"startLine":757}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"OptimizeEdgeLabelsLocations","parameterList":{},"body":{"statements":[{"forStatementInfo":{"forKeyword":"for","declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"i","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0"}}}}]},"firstSemicolonToken":";","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"<","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}}}},"secondSemicolonToken":";","incrementors":[{"postfixUnaryExpressionInfo":{"operand":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"++"}}],"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Anchor"}},"variables":[{"identifier":"a","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}}}}]},"startLine":768}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LabelToTheRightOfAnchorCenter"}}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Anchor"}},"variables":[{"identifier":"predecessor"}],"comments":["//by default the label is put to the right of the spline"]},"startLine":771,"comments":["//by default the label is put to the right of the spline"]}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Anchor"}},"variables":[{"identifier":"successor"}]},"startLine":772}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"GetSuccessorAndPredecessor"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}},{"refOrOutKeyword":"out","refKindKeyword":"out","expression":{"identifierNameInfo":{"identifier":"predecessor"}}},{"refOrOutKeyword":"out","refKindKeyword":"out","expression":{"identifierNameInfo":{"identifier":"successor"}}}]}}},"startLine":773}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"prefixUnaryExpressionInfo":{"operatorToken":"!","operand":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"TryToPutLabelOutsideOfAngle"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"a"}}},{"expression":{"identifierNameInfo":{"identifier":"predecessor"}}},{"expression":{"identifierNameInfo":{"identifier":"successor"}}}]}}}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"sumNow","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"parenthesizedExpressionInfo":{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"predecessor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Origin"}}}},"operatorToken":"-","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Origin"}}}}}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}},"operatorToken":"+","right":{"memberAccessExpressionInfo":{"expression":{"parenthesizedExpressionInfo":{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"successor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Origin"}}}},"operatorToken":"-","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Origin"}}}}}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}}}}}}]},"startLine":775}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"nx","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Right"}}}},"operatorToken":"-","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LeftAnchor"}}}}}}}}]},"startLine":776}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"xy","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"Point"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"nx"}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}}}]}}}}}]},"startLine":777}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"sumWouldBe","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"parenthesizedExpressionInfo":{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"predecessor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Origin"}}}},"operatorToken":"-","right":{"identifierNameInfo":{"identifier":"xy"}}}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}},"operatorToken":"+","right":{"memberAccessExpressionInfo":{"expression":{"parenthesizedExpressionInfo":{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"successor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Origin"}}}},"operatorToken":"-","right":{"identifierNameInfo":{"identifier":"xy"}}}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}}}}}}]},"startLine":778}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"sumWouldBe"}},"operatorToken":"<","right":{"identifierNameInfo":{"identifier":"sumNow"}}}},"statement":{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"PutLabelToTheLeft"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"a"}}}]}}},"startLine":780}},"startLine":779}}],"startLine":774}},"startLine":774}}],"startLine":769}},"startLine":769}}],"startLine":767}},"startLine":767}}],"startLine":766},"comments":["/// <summary>\n/// put some labels to the left of the splines if it makes sense\n/// </summary>"]}},{"methodDeclarationInfo":{"modifiers":["static"],"returnType":{"predefinedTypeInfo":{"keyword":"bool"}},"identifier":"TryToPutLabelOutsideOfAngle","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"Anchor"}},"identifier":"a"},{"type":{"identifierNameInfo":{"identifier":"Anchor"}},"identifier":"predecessor"},{"type":{"identifierNameInfo":{"identifier":"Anchor"}},"identifier":"successor"}]},"body":{"statements":[{"ifStatementInfo":{"ifKeyword":"if","condition":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LabelToTheRightOfAnchorCenter"}}}},"statement":{"blockInfo":{"statements":[{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"Point"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"GetTriangleOrientation"}}}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"predecessor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Origin"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Origin"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"successor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Origin"}}}}}]}}},"operatorToken":"==","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"TriangleOrientation"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Clockwise"}}}}}},"statement":{"returnStatementInfo":{"returnKeyword":"return","expression":{"literalExpressionInfo":{"token":"true"}},"startLine":790}},"startLine":788}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"la","initializer":{"equalsToken":"=","value":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LeftAnchor"}}}}}}]},"startLine":792}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"ra","initializer":{"equalsToken":"=","value":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"RightAnchor"}}}}}}]},"startLine":793}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"x","initializer":{"equalsToken":"=","value":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}}}}]},"startLine":794}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"PutLabelToTheLeft"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"a"}}}]}}},"startLine":795}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"Point"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"GetTriangleOrientation"}}}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"predecessor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Origin"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Origin"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"successor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Origin"}}}}}]}}},"operatorToken":"==","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"TriangleOrientation"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Counterclockwise"}}}}}},"statement":{"returnStatementInfo":{"returnKeyword":"return","expression":{"literalExpressionInfo":{"token":"true"}},"startLine":798}},"startLine":796}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"x"}}}},"startLine":799}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LeftAnchor"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"la"}}}},"startLine":800}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"RightAnchor"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"ra"}}}},"startLine":801}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LabelToTheRightOfAnchorCenter"}}}},"operatorToken":"=","right":{"literalExpressionInfo":{"token":"true"}}}},"startLine":802}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LabelToTheLeftOfAnchorCenter"}}}},"operatorToken":"=","right":{"literalExpressionInfo":{"token":"false"}}}},"startLine":803}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"literalExpressionInfo":{"token":"false"}},"startLine":804}}],"startLine":787}},"startLine":787}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"literalExpressionInfo":{"token":"false"}},"startLine":806}}],"startLine":786}}},{"methodDeclarationInfo":{"modifiers":["static"],"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"PutLabelToTheLeft","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"Anchor"}},"identifier":"a"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"r","initializer":{"equalsToken":"=","value":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Right"}}}}}}]},"startLine":810}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"t","initializer":{"equalsToken":"=","value":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LeftAnchor"}}}}}}]},"startLine":811}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LeftAnchor"}}}},"operatorToken":"=","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"RightAnchor"}}}}}},"startLine":812}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"RightAnchor"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"t"}}}},"startLine":813}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}},"operatorToken":"=","right":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"r"}},"operatorToken":"-","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"RightAnchor"}}}}}}}},"startLine":814}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LabelToTheLeftOfAnchorCenter"}}}},"operatorToken":"=","right":{"literalExpressionInfo":{"token":"true"}}}},"startLine":816}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LabelToTheRightOfAnchorCenter"}}}},"operatorToken":"=","right":{"literalExpressionInfo":{"token":"false"}}}},"startLine":817}}],"startLine":809}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"GetSuccessorAndPredecessor","parameterList":{"parameters":[{"type":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"i"},{"modifiers":["out"],"type":{"identifierNameInfo":{"identifier":"Anchor"}},"identifier":"p"},{"modifiers":["out"],"type":{"identifierNameInfo":{"identifier":"Anchor"}},"identifier":"s"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"predecessor","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"10"}}}}]},"startLine":821}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"LayerEdge"}},"identifier":"ie","inKeyword":"in","expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"properLayeredGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"InEdges"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}]}}},"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"predecessor"}},"operatorToken":"=","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"ie"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Source"}}}}}},"startLine":823}},"startLine":822}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"successor","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"10"}}}}]},"startLine":825}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"LayerEdge"}},"identifier":"ie","inKeyword":"in","expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"properLayeredGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"OutEdges"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}]}}},"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"successor"}},"operatorToken":"=","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"ie"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Target"}}}}}},"startLine":827}},"startLine":826}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"p"}},"operatorToken":"=","right":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"predecessor"}}}],"closeBracketToken":"]"}}}}},"startLine":830,"comments":["//we compare the sum of length of projections of edges (predecessor,i), (i,successor) to x in cases when the label is to the right and to the left"]}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"s"}},"operatorToken":"=","right":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"successor"}}}],"closeBracketToken":"]"}}}}},"startLine":832}}],"startLine":820}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"CycleRemoval","parameterList":{},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"VerticalConstraintsForSugiyama"}},"variables":[{"identifier":"verticalConstraints","initializer":{"equalsToken":"=","value":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"VerticalConstraints"}}}}}}]},"startLine":871}},{"localDeclarationStatementInfo":{"declaration":{"type":{"genericNameInfo":{"identifier":"IEnumerable","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"IEdge"}}],"greaterThanToken":">"}}},"variables":[{"identifier":"feedbackSet","initializer":{"equalsToken":"=","value":{"conditionalExpressionInfo":{"condition":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"verticalConstraints"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"IsEmpty"}}}},"questionToken":"?","whenTrue":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"genericNameInfo":{"identifier":"CycleRemoval","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"PolyIntEdge"}}],"greaterThanToken":">"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"GetFeedbackSet"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"IntGraph"}}}]}}},"colonToken":":","whenFalse":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"verticalConstraints"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"GetFeedbackSet"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"IntGraph"}}},{"expression":{"identifierNameInfo":{"identifier":"nodeIdToIndex"}}}]}}}}}}}]},"startLine":872}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"AddFeedbackSet"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"feedbackSet"}}}]}}},"startLine":876}}],"startLine":870},"comments":["//void MakeXOfAnchorsPositive(LayerArrays layerArrays)","//{","//    //find the minimum of x of anchors","//    //we don't care about y since they are not part of the unknown variables","//    double min;","//    if (anchors.Length > 0)","//    {","//        min = anchors[0].X;","//        for (int i = 1; i < anchors.Length; i++)","//        {","//            double x = anchors[i].X;","//            if (x < min)","//                min = x;","//        }","//        //span of the layers in Y direction","//        int[][] layers = layerArrays.Layers;","//        double s = anchors[layers[layers.Length - 1][0]].Y - anchors[layers[0][0]].Y;","//        //shift anchors to the right that their minimum would be equal to min, unless min is already not less than s.","//        if (min < s)","//        {","//            double shift = s - min;","//            for (int i = 0; i < anchors.Length; i++)","//                anchors[i].X += shift;","//        }","//    }","//}","/// <summary>\n/// Create a DAG from the given graph\n/// </summary>"]}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"CalculateXLayersByGansnerNorth","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"LayerArrays"}},"identifier":"layerArrays"}]},"body":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"xLayoutGraph"}},"operatorToken":"=","right":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"CreateXLayoutGraph"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}}}]}}}}},"startLine":896}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"CalculateXLayersByGansnerNorthOnProperLayeredGraph"}},"argumentList":{}}},"startLine":897}}],"startLine":895},"comments":["/// <summary>\n/// The function calculates y-layers and x-layers,\n/// thus, in fact, defining node, including dummy nodes, locations.\n/// </summary>\n/// <param name=\"layerArrays\"></param>"]}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"CalculateXLayersByGansnerNorthOnProperLayeredGraph","parameterList":{},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"arrayTypeInfo":{"elementType":{"predefinedTypeInfo":{"keyword":"int"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"omittedArraySizeExpressionInfo":{}}],"closeBracketToken":"]"}]}},"variables":[{"identifier":"xLayers","initializer":{"equalsToken":"=","value":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"parenthesizedExpressionInfo":{"expression":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"NetworkSimplex"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"xLayoutGraph"}}},{"expression":{"literalExpressionInfo":{"token":"null"}}}]}}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"GetLayers"}}}},"argumentList":{}}}}}]},"startLine":901}},{"forStatementInfo":{"forKeyword":"for","declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"i","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0"}}}}]},"firstSemicolonToken":";","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"<","right":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}}}},"secondSemicolonToken":";","incrementors":[{"postfixUnaryExpressionInfo":{"operand":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"++"}}],"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}},"operatorToken":"=","right":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"xLayers"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}}}},"startLine":906}},"startLine":905,"comments":["//TestYXLayers(layerArrays, xLayers);//this will not be called in the release version"]}}],"startLine":900}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"CreaeteProperLayeredGraph","parameterList":{"parameters":[{"type":{"arrayTypeInfo":{"elementType":{"predefinedTypeInfo":{"keyword":"int"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"omittedArraySizeExpressionInfo":{}}],"closeBracketToken":"]"}]}},"identifier":"layering"},{"modifiers":["out"],"type":{"identifierNameInfo":{"identifier":"LayerArrays"}},"identifier":"layerArrays"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"n","initializer":{"equalsToken":"=","value":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layering"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}}}}]},"startLine":942}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"nOfVV","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0"}}}}]},"startLine":943}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"PolyIntEdge"}},"identifier":"e","inKeyword":"in","expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"SkeletonEdges"}}}},"argumentList":{}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"span","initializer":{"equalsToken":"=","value":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"EdgeSpan"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"layering"}}},{"expression":{"identifierNameInfo":{"identifier":"e"}}}]}}}}}]},"startLine":947}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"Debug"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Assert"}}}},"argumentList":{"arguments":[{"expression":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"span"}},"operatorToken":">=","right":{"literalExpressionInfo":{"token":"0"}}}}}]}}},"startLine":949}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"span"}},"operatorToken":">","right":{"literalExpressionInfo":{"token":"0"}}}},"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LayerEdges"}}}},"operatorToken":"=","right":{"arrayCreationExpressionInfo":{"newKeyword":"new","type":{"elementType":{"identifierNameInfo":{"identifier":"LayerEdge"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"identifierNameInfo":{"identifier":"span"}}],"closeBracketToken":"]"}]}}}}},"startLine":952}},"startLine":951}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"pe","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0"}}}}]},"startLine":953}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"span"}},"operatorToken":">","right":{"literalExpressionInfo":{"token":"1"}}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"d0","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"n"}},"operatorToken":"+","right":{"postfixUnaryExpressionInfo":{"operand":{"identifierNameInfo":{"identifier":"nOfVV"}},"operatorToken":"++"}}}}}}],"comments":["//we create span-2 dummy nodes and span new edges"]},"startLine":958,"comments":["//we create span-2 dummy nodes and span new edges"]}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"layerEdge","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"LayerEdge"}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Source"}}}}},{"expression":{"identifierNameInfo":{"identifier":"d0"}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"CrossingWeight"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Weight"}}}}}]}}}}}]},"startLine":960}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LayerEdges"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"postfixUnaryExpressionInfo":{"operand":{"identifierNameInfo":{"identifier":"pe"}},"operatorToken":"++"}}}],"closeBracketToken":"]"}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"layerEdge"}}}},"startLine":962}},{"forStatementInfo":{"forKeyword":"for","declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"j","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0"}}}}]},"firstSemicolonToken":";","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"j"}},"operatorToken":"<","right":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"span"}},"operatorToken":"-","right":{"literalExpressionInfo":{"token":"2"}}}}}},"secondSemicolonToken":";","incrementors":[{"postfixUnaryExpressionInfo":{"operand":{"identifierNameInfo":{"identifier":"j"}},"operatorToken":"++"}}],"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"postfixUnaryExpressionInfo":{"operand":{"identifierNameInfo":{"identifier":"d0"}},"operatorToken":"++"}},"startLine":967}},{"expressionStatementInfo":{"expression":{"postfixUnaryExpressionInfo":{"operand":{"identifierNameInfo":{"identifier":"nOfVV"}},"operatorToken":"++"}},"startLine":968}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"layerEdge"}},"operatorToken":"=","right":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"LayerEdge"}},"argumentList":{"arguments":[{"expression":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"d0"}},"operatorToken":"-","right":{"literalExpressionInfo":{"token":"1"}}}}},{"expression":{"identifierNameInfo":{"identifier":"d0"}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"CrossingWeight"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Weight"}}}}}]}}}}},"startLine":969}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LayerEdges"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"postfixUnaryExpressionInfo":{"operand":{"identifierNameInfo":{"identifier":"pe"}},"operatorToken":"++"}}}],"closeBracketToken":"]"}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"layerEdge"}}}},"startLine":970}}],"startLine":966}},"startLine":966,"comments":["//create span-2 internal edges all from dummy nodes"]}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"layerEdge"}},"operatorToken":"=","right":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"LayerEdge"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"d0"}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Target"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"CrossingWeight"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Weight"}}}}}]}}}}},"startLine":973}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LayerEdges"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"pe"}}}],"closeBracketToken":"]"}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"layerEdge"}}}},"startLine":974}}],"startLine":955}},"elseInfo":{"elseKeyword":"else","statement":{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"span"}},"operatorToken":"==","right":{"literalExpressionInfo":{"token":"1"}}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"layerEdge","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"LayerEdge"}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Source"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Target"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"CrossingWeight"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Weight"}}}}}]}}}}}]},"startLine":976}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LayerEdges"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"pe"}}}],"closeBracketToken":"]"}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"layerEdge"}}}},"startLine":977}}],"startLine":975}},"startLine":975}}},"startLine":955}}],"startLine":946}},"startLine":946}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"extendedVertexLayering","initializer":{"equalsToken":"=","value":{"arrayCreationExpressionInfo":{"newKeyword":"new","type":{"elementType":{"predefinedTypeInfo":{"keyword":"int"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Count"}}}},"operatorToken":"+","right":{"identifierNameInfo":{"identifier":"nOfVV"}}}}],"closeBracketToken":"]"}]}}}}}]},"startLine":981}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"PolyIntEdge"}},"identifier":"e","inKeyword":"in","expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"SkeletonEdges"}}}},"argumentList":{}}},"statement":{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LayerEdges"}}}},"operatorToken":"!=","right":{"literalExpressionInfo":{"token":"null"}}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"l","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layering"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Source"}}}}}],"closeBracketToken":"]"}}}}}]},"startLine":985}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"extendedVertexLayering"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Source"}}}}}],"closeBracketToken":"]"}}},"operatorToken":"=","right":{"postfixUnaryExpressionInfo":{"operand":{"identifierNameInfo":{"identifier":"l"}},"operatorToken":"--"}}}},"startLine":986}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"LayerEdge"}},"identifier":"le","inKeyword":"in","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LayerEdges"}}}},"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"extendedVertexLayering"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"le"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Target"}}}}}],"closeBracketToken":"]"}}},"operatorToken":"=","right":{"postfixUnaryExpressionInfo":{"operand":{"identifierNameInfo":{"identifier":"l"}},"operatorToken":"--"}}}},"startLine":988}},"startLine":987}}],"startLine":984}},"elseInfo":{"elseKeyword":"else","statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"extendedVertexLayering"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Source"}}}}}],"closeBracketToken":"]"}}},"operatorToken":"=","right":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layering"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Source"}}}}}],"closeBracketToken":"]"}}}}},"startLine":990}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"extendedVertexLayering"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Target"}}}}}],"closeBracketToken":"]"}}},"operatorToken":"=","right":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layering"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Target"}}}}}],"closeBracketToken":"]"}}}}},"startLine":991}}],"startLine":989}}},"startLine":984}},"startLine":983}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"properLayeredGraph"}},"operatorToken":"=","right":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"ProperLayeredGraph"}},"argumentList":{"arguments":[{"expression":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"genericNameInfo":{"identifier":"BasicGraph","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"Node"}},{"identifierNameInfo":{"identifier":"PolyIntEdge"}}],"greaterThanToken":">"}}},"argumentList":{"arguments":[{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"SkeletonEdges"}}}},"argumentList":{}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layering"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}}}]}}}}]}}}}},"startLine":994}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"properLayeredGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BaseGraph"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"operatorToken":"=","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"IntGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}}}},"startLine":996}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"layerArrays"}},"operatorToken":"=","right":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"LayerArrays"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"extendedVertexLayering"}}}]}}}}},"startLine":997}}],"startLine":941},"comments":["//[System.Diagnostics.Conditional(\"TEST_MSAGL\")]","//private void TestYXLayers(LayerArrays layerArrays, int[] xLayers) {","//    foreach (IntEdge e in this.xLayoutGraph.Edges) {","//        int s = e.Source; int targ = e.Target;","//        if (e.Source >= layeredGraph.Nodes.Count) {","//            if (xLayoutGraph.OutEdges(s).Count != 2 || xLayoutGraph.InEdges(s).Count != 0)","//                Report(\"must be two out edges and none incoming\");","//            if (targ >= layeredGraph.Nodes.Count)","//                Report(\"an illegal edge\");","//        } else {","//            if (layerArrays.Y[s] != layerArrays.Y[targ])","//                Report(\"layers don't coincide\");","//            if (layerArrays.X[s] - 1 != layerArrays.X[targ])","//                Report(\"wrong input\");","//            if (xLayers[s] <= xLayers[targ])","//                Report(\"wrong xlayering\");","//        }","//    }","//}","/// <summary>\n/// Creating a proper layered graph, a graph where each\n/// edge goes only one layer down from the i+1-th layer to the i-th layer.\n/// </summary>\n/// <param name=\"layering\"></param>\n/// <param name=\"layerArrays\"></param>"]}},{"fieldDeclarationInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"ConstrainedOrdering"}},"variables":[{"identifier":"constrainedOrdering"}]}}},{"methodDeclarationInfo":{"returnType":{"identifierNameInfo":{"identifier":"LayerArrays"}},"identifier":"YLayeringAndOrdering","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"LayerCalculator"}},"identifier":"layering"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"arrayTypeInfo":{"elementType":{"predefinedTypeInfo":{"keyword":"int"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"omittedArraySizeExpressionInfo":{}}],"closeBracketToken":"]"}]}},"variables":[{"identifier":"yLayers","initializer":{"equalsToken":"=","value":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layering"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"GetLayers"}}}},"argumentList":{}}}}}]},"startLine":1016}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"Balancing"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Balance"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"GluedDagSkeletonForLayering"}}},{"expression":{"identifierNameInfo":{"identifier":"yLayers"}}},{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"GetNodeCountsOfGluedDag"}},"argumentList":{}}}},{"expression":{"literalExpressionInfo":{"token":"null"}}}]}}},"startLine":1017}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"yLayers"}},"operatorToken":"=","right":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"ExtendLayeringToUngluedSameLayerVertices"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"yLayers"}}}]}}}}},"startLine":1018}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"layerArrays","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"LayerArrays"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"yLayers"}}}]}}}}}]},"startLine":1033}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"HorizontalConstraints"}},"operatorToken":"==","right":{"literalExpressionInfo":{"token":"null"}}}},"operatorToken":"||","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"HorizontalConstraints"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"IsEmpty"}}}}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"layerArrays"}},"operatorToken":"=","right":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"YLayeringAndOrderingWithoutHorizontalConstraints"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}}}]}}}}},"startLine":1036}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"identifierNameInfo":{"identifier":"layerArrays"}},"startLine":1049}}],"startLine":1035}},"startLine":1035,"comments":["//if (!SugiyamaSettings.UseEdgeBundling && (HorizontalConstraints == null || HorizontalConstraints.IsEmpty)) {"]}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"constrainedOrdering"}},"operatorToken":"=","right":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"ConstrainedOrdering"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}}},{"expression":{"identifierNameInfo":{"identifier":"IntGraph"}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}}},{"expression":{"identifierNameInfo":{"identifier":"nodeIdToIndex"}}},{"expression":{"identifierNameInfo":{"identifier":"database"}}},{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}}}]}}}}},"startLine":1051}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"constrainedOrdering"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Calculate"}}}},"argumentList":{}}},"startLine":1053}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"properLayeredGraph"}},"operatorToken":"=","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"constrainedOrdering"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"ProperLayeredGraph"}}}}}},"startLine":1054}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"constrainedOrdering"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LayerArrays"}}}},"startLine":1068,"comments":["// SugiyamaLayoutSettings.ShowDatabase(this.database);"]}}],"startLine":1002}}},{"methodDeclarationInfo":{"returnType":{"identifierNameInfo":{"identifier":"LayerArrays"}},"identifier":"YLayeringAndOrderingWithoutHorizontalConstraints","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"LayerArrays"}},"identifier":"layerArrays"}]},"body":{"statements":[{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"CreaeteProperLayeredGraph"}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}}},{"refOrOutKeyword":"out","refKindKeyword":"out","expression":{"identifierNameInfo":{"identifier":"layerArrays"}}}]}}},"startLine":1072}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"Ordering"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"OrderLayers"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"properLayeredGraph"}}},{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Count"}}}}},{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}}},{"expression":{"identifierNameInfo":{"identifier":"CancelToken"}}}]}}},"startLine":1073}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"MetroMapOrdering"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"UpdateLayerArrays"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"properLayeredGraph"}}},{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}}}]}}},"startLine":1075}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"identifierNameInfo":{"identifier":"layerArrays"}},"startLine":1076}}],"startLine":1071}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"CalculateXPositionsByBrandes","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"LayerArrays"}},"identifier":"layerArrays"}]},"body":{"statements":[{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"XCoordsWithAlignment"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"CalculateXCoordinates"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}}},{"expression":{"identifierNameInfo":{"identifier":"properLayeredGraph"}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Count"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"NodeSeparation"}}}}}]}}},"startLine":1081}}],"startLine":1080}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"CalculateOriginalGraphBox","parameterList":{"parameters":[{"modifiers":["out"],"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"aspectRatio"}]},"body":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"aspectRatio"}},"operatorToken":"=","right":{"literalExpressionInfo":{"token":"0"}}}},"startLine":1087}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}},"operatorToken":">","right":{"literalExpressionInfo":{"token":"0"}}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"box","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"Rectangle"}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"literalExpressionInfo":{"token":"0"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Left"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"literalExpressionInfo":{"token":"0"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Top"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"literalExpressionInfo":{"token":"0"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Right"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"literalExpressionInfo":{"token":"0"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Bottom"}}}}}]}}}}}]},"startLine":1089}},{"forStatementInfo":{"forKeyword":"for","declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"i","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"1"}}}}]},"firstSemicolonToken":";","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"<","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}}}},"secondSemicolonToken":";","incrementors":[{"postfixUnaryExpressionInfo":{"operand":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"++"}}],"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Anchor"}},"variables":[{"identifier":"a","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}}}}]},"startLine":1092}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"box"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Add"}}}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LeftTop"}}}}}]}}},"startLine":1093}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"box"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Add"}}}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"RightBottom"}}}}}]}}},"startLine":1094}}],"startLine":1091}},"startLine":1091}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"aspectRatio"}},"operatorToken":"=","right":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"box"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Width"}}}},"operatorToken":"/","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"box"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Height"}}}}}}}},"startLine":1097}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"delta","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"parenthesizedExpressionInfo":{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"box"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LeftTop"}}}},"operatorToken":"-","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"box"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"RightBottom"}}}}}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2"}}}}}}]},"startLine":1099}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"del","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"Point"}},"argumentList":{"arguments":[{"expression":{"prefixUnaryExpressionInfo":{"operatorToken":"-","operand":{"identifierNameInfo":{"identifier":"delta"}}}}},{"expression":{"identifierNameInfo":{"identifier":"delta"}}}]}}}}}]},"startLine":1101}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"box"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Add"}}}},"argumentList":{"arguments":[{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"box"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LeftTop"}}}},"operatorToken":"+","right":{"identifierNameInfo":{"identifier":"del"}}}}}]}}},"startLine":1102}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"box"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Add"}}}},"argumentList":{"arguments":[{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"box"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"RightBottom"}}}},"operatorToken":"-","right":{"identifierNameInfo":{"identifier":"del"}}}}}]}}},"startLine":1103}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BoundingBox"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"box"}}}},"startLine":1105}}],"startLine":1088}},"startLine":1088}}],"startLine":1086}}},{"methodDeclarationInfo":{"returnType":{"identifierNameInfo":{"identifier":"LayerArrays"}},"identifier":"InsertLayersIfNeeded","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"LayerArrays"}},"identifier":"layerArrays"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"bool"}},"variables":[{"identifier":"needToInsertLayers","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"false"}}}}]},"startLine":1111}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"bool"}},"variables":[{"identifier":"multipleEdges","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"false"}}}}]},"startLine":1112}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"InsertVirtualEdgesIfNeeded"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}}}]}}},"startLine":1114}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"AnalyzeNeedToInsertLayersAndHasMultiedges"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}}},{"refOrOutKeyword":"ref","refKindKeyword":"ref","expression":{"identifierNameInfo":{"identifier":"needToInsertLayers"}}},{"refOrOutKeyword":"ref","refKindKeyword":"ref","expression":{"identifierNameInfo":{"identifier":"multipleEdges"}}}]}}},"startLine":1116}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"identifierNameInfo":{"identifier":"needToInsertLayers"}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"LayerInserter"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"InsertLayers"}}}},"argumentList":{"arguments":[{"refOrOutKeyword":"ref","refKindKeyword":"ref","expression":{"identifierNameInfo":{"identifier":"properLayeredGraph"}}},{"refOrOutKeyword":"ref","refKindKeyword":"ref","expression":{"identifierNameInfo":{"identifier":"layerArrays"}}},{"expression":{"identifierNameInfo":{"identifier":"database"}}},{"expression":{"identifierNameInfo":{"identifier":"IntGraph"}}}]}}},"startLine":1119}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"LayersAreDoubled"}},"operatorToken":"=","right":{"literalExpressionInfo":{"token":"true"}}}},"startLine":1120}}],"startLine":1118}},"elseInfo":{"elseKeyword":"else","statement":{"ifStatementInfo":{"ifKeyword":"if","condition":{"identifierNameInfo":{"identifier":"multipleEdges"}},"statement":{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"EdgePathsInserter"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"InsertPaths"}}}},"argumentList":{"arguments":[{"refOrOutKeyword":"ref","refKindKeyword":"ref","expression":{"identifierNameInfo":{"identifier":"properLayeredGraph"}}},{"refOrOutKeyword":"ref","refKindKeyword":"ref","expression":{"identifierNameInfo":{"identifier":"layerArrays"}}},{"expression":{"identifierNameInfo":{"identifier":"database"}}},{"expression":{"identifierNameInfo":{"identifier":"IntGraph"}}}]}}},"startLine":1122}},"startLine":1121}}},"startLine":1118}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"RecreateIntGraphFromDataBase"}},"argumentList":{}}},"startLine":1124}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"identifierNameInfo":{"identifier":"layerArrays"}},"startLine":1126}}],"startLine":1110}}},{"propertyDeclarationInfo":{"type":{"predefinedTypeInfo":{"keyword":"bool"}},"identifier":"LayersAreDoubled","accessorList":{"accessors":[{"keyword":"get"},{"keyword":"set"}]}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"RecreateIntGraphFromDataBase","parameterList":{},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"edges","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"genericNameInfo":{"identifier":"List","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"PolyIntEdge"}}],"greaterThanToken":">"}}},"argumentList":{}}}}}]},"startLine":1134}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"identifier":"list","inKeyword":"in","expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Multiedges"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Values"}}}},"statement":{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"edges"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"AddRange"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"list"}}}]}}},"startLine":1136}},"startLine":1135}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"IntGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"SetEdges"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"edges"}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"IntGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"NodeCount"}}}}}]}}},"startLine":1137}}],"startLine":1133}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"AnalyzeNeedToInsertLayersAndHasMultiedges","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"LayerArrays"}},"identifier":"layerArrays"},{"modifiers":["ref"],"type":{"predefinedTypeInfo":{"keyword":"bool"}},"identifier":"needToInsertLayers"},{"modifiers":["ref"],"type":{"predefinedTypeInfo":{"keyword":"bool"}},"identifier":"multipleEdges"}]},"body":{"statements":[{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"PolyIntEdge"}},"identifier":"ie","inKeyword":"in","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"IntGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Edges"}}}},"statement":{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"ie"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"HasLabel"}}}},"operatorToken":"&&","right":{"binaryExpressionInfo":{"left":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"ie"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Source"}}}}}],"closeBracketToken":"]"}}},"operatorToken":"!=","right":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"ie"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Target"}}}}}],"closeBracketToken":"]"}}}}}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"needToInsertLayers"}},"operatorToken":"=","right":{"literalExpressionInfo":{"token":"true"}}}},"startLine":1145,"comments":["//if an edge is a flat edge then"]}},{"breakStatementInfo":{"breakKeyword":"break","startLine":1146}}],"startLine":1143}},"startLine":1143}},"startLine":1142}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"needToInsertLayers"}},"operatorToken":"==","right":{"literalExpressionInfo":{"token":"false"}}}},"operatorToken":"&&","right":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"constrainedOrdering"}},"operatorToken":"==","right":{"literalExpressionInfo":{"token":"null"}}}}}},"statement":{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"identifier":"kv","inKeyword":"in","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Multiedges"}}}},"statement":{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"kv"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Value"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Count"}}}},"operatorToken":">","right":{"literalExpressionInfo":{"token":"1"}}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"multipleEdges"}},"operatorToken":"=","right":{"literalExpressionInfo":{"token":"true"}}}},"startLine":1153}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"binaryExpressionInfo":{"left":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"kv"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Key"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"x"}}}}}],"closeBracketToken":"]"}}},"operatorToken":"-","right":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"kv"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Key"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"y"}}}}}],"closeBracketToken":"]"}}}}},"operatorToken":"==","right":{"literalExpressionInfo":{"token":"1"}}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"needToInsertLayers"}},"operatorToken":"=","right":{"literalExpressionInfo":{"token":"true"}}}},"startLine":1157,"comments":["//there is a multi edge spanning exactly one layer; unfortunately we need to introduce virtual vertices for","//the edges middle points"]}},{"breakStatementInfo":{"breakKeyword":"break","startLine":1158}}],"startLine":1154}},"startLine":1154}}],"startLine":1152}},"startLine":1152}},"startLine":1151,"comments":["//if we have constrains the multiple edges have been already represented in layers"]}},"startLine":1149}}],"startLine":1141}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"InsertVirtualEdgesIfNeeded","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"LayerArrays"}},"identifier":"layerArrays"}]},"body":{"statements":[{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"constrainedOrdering"}},"operatorToken":"!=","right":{"literalExpressionInfo":{"token":"null"}}}},"statement":{"returnStatementInfo":{"returnKeyword":"return","startLine":1165}},"startLine":1164}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"identifier":"kv","inKeyword":"in","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Multiedges"}}}},"statement":{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"binaryExpressionInfo":{"left":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"kv"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Value"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Count"}}}},"operatorToken":"%","right":{"literalExpressionInfo":{"token":"2"}}}},"operatorToken":"==","right":{"literalExpressionInfo":{"token":"0"}}}},"operatorToken":"&&","right":{"binaryExpressionInfo":{"left":{"binaryExpressionInfo":{"left":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"kv"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Key"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"First"}}}}}],"closeBracketToken":"]"}}},"operatorToken":"-","right":{"literalExpressionInfo":{"token":"1"}}}},"operatorToken":"==","right":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"kv"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Key"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Second"}}}}}],"closeBracketToken":"]"}}}}}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"newVirtualEdge","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"PolyIntEdge"}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"kv"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Key"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"First"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"kv"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Key"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Second"}}}}}]}}}}}]},"startLine":1171}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"newVirtualEdge"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Edge"}}}},"operatorToken":"=","right":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"Edge"}},"argumentList":{}}}}},"startLine":1172}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"newVirtualEdge"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"IsVirtualEdge"}}}},"operatorToken":"=","right":{"literalExpressionInfo":{"token":"true"}}}},"startLine":1173}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"kv"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Value"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Insert"}}}},"argumentList":{"arguments":[{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"kv"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Value"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Count"}}}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2"}}}}},{"expression":{"identifierNameInfo":{"identifier":"newVirtualEdge"}}}]}}},"startLine":1174}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"IntGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"AddEdge"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"newVirtualEdge"}}}]}}},"startLine":1175}}],"startLine":1170}},"startLine":1170,"comments":["// If there are an even number of multi-edges between two nodes then","//  add a virtual edge in the multi-edge dict to improve the placement, but only in case when the edge goes down only one layer."]}},"startLine":1167}}],"startLine":1163}}},{"methodDeclarationInfo":{"returnType":{"arrayTypeInfo":{"elementType":{"predefinedTypeInfo":{"keyword":"int"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"omittedArraySizeExpressionInfo":{}}],"closeBracketToken":"]"}]}},"identifier":"GetNodeCountsOfGluedDag","parameterList":{},"body":{"statements":[{"ifStatementInfo":{"ifKeyword":"if","condition":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"VerticalConstraints"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"IsEmpty"}}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"ret","initializer":{"equalsToken":"=","value":{"arrayCreationExpressionInfo":{"newKeyword":"new","type":{"elementType":{"predefinedTypeInfo":{"keyword":"int"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"IntGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"NodeCount"}}}}],"closeBracketToken":"]"}]}}}}}]},"startLine":1182}},{"forStatementInfo":{"forKeyword":"for","declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"i","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0"}}}}]},"firstSemicolonToken":";","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"<","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"ret"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}}}},"secondSemicolonToken":";","incrementors":[{"postfixUnaryExpressionInfo":{"operand":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"++"}}],"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"ret"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}},"operatorToken":"=","right":{"literalExpressionInfo":{"token":"1"}}}},"startLine":1184}},"startLine":1183}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"identifierNameInfo":{"identifier":"ret"}},"startLine":1185}}],"startLine":1181}},"startLine":1181}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"VerticalConstraints"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"GetGluedNodeCounts"}}}},"argumentList":{}}},"startLine":1187}}],"startLine":1180}}},{"methodDeclarationInfo":{"returnType":{"arrayTypeInfo":{"elementType":{"predefinedTypeInfo":{"keyword":"int"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"omittedArraySizeExpressionInfo":{}}],"closeBracketToken":"]"}]}},"identifier":"ExtendLayeringToUngluedSameLayerVertices","parameterList":{"parameters":[{"type":{"arrayTypeInfo":{"elementType":{"predefinedTypeInfo":{"keyword":"int"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"omittedArraySizeExpressionInfo":{}}],"closeBracketToken":"]"}]}},"identifier":"p"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"VerticalConstraintsForSugiyama"}},"variables":[{"identifier":"vc","initializer":{"equalsToken":"=","value":{"identifierNameInfo":{"identifier":"VerticalConstraints"}}}}]},"startLine":1191}},{"forStatementInfo":{"forKeyword":"for","declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"i","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0"}}}}]},"firstSemicolonToken":";","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"<","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"p"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}}}},"secondSemicolonToken":";","incrementors":[{"postfixUnaryExpressionInfo":{"operand":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"++"}}],"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"p"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}},"operatorToken":"=","right":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"p"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"vc"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"NodeToRepr"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}]}}}}],"closeBracketToken":"]"}}}}},"startLine":1193}},"startLine":1192}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"identifierNameInfo":{"identifier":"p"}},"startLine":1194}}],"startLine":1190}}},{"methodDeclarationInfo":{"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"CalculateEdgeSplines","parameterList":{},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"routing","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"Routing"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}}},{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}}},{"expression":{"identifierNameInfo":{"identifier":"database"}}},{"expression":{"identifierNameInfo":{"identifier":"engineLayerArrays"}}},{"expression":{"identifierNameInfo":{"identifier":"properLayeredGraph"}}},{"expression":{"identifierNameInfo":{"identifier":"IntGraph"}}}]}}}}}]},"startLine":1202}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"routing"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Run"}}}},"argumentList":{}}},"startLine":1211}}],"startLine":1197}}},{"methodDeclarationInfo":{"modifiers":["internal","static"],"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"CalculateAnchorSizes","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"Database"}},"identifier":"database"},{"modifiers":["out"],"type":{"arrayTypeInfo":{"elementType":{"identifierNameInfo":{"identifier":"Anchor"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"omittedArraySizeExpressionInfo":{}}],"closeBracketToken":"]"}]}},"identifier":"anchors"},{"type":{"identifierNameInfo":{"identifier":"ProperLayeredGraph"}},"identifier":"properLayeredGraph"},{"type":{"identifierNameInfo":{"identifier":"GeometryGraph"}},"identifier":"originalGraph"},{"type":{"genericNameInfo":{"identifier":"BasicGraph","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"Node"}},{"identifierNameInfo":{"identifier":"PolyIntEdge"}}],"greaterThanToken":">"}}},"identifier":"intGraph"},{"type":{"identifierNameInfo":{"identifier":"SugiyamaLayoutSettings"}},"identifier":"settings"}]},"body":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}},"operatorToken":"=","right":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"anchors"}},"operatorToken":"=","right":{"arrayCreationExpressionInfo":{"newKeyword":"new","type":{"elementType":{"identifierNameInfo":{"identifier":"Anchor"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"properLayeredGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"NodeCount"}}}}],"closeBracketToken":"]"}]}}}}}}},"startLine":1223}},{"forStatementInfo":{"forKeyword":"for","declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"i","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0"}}}}]},"firstSemicolonToken":";","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"<","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}}}},"secondSemicolonToken":";","incrementors":[{"postfixUnaryExpressionInfo":{"operand":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"++"}}],"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}},"operatorToken":"=","right":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"Anchor"}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"settings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LabelCornersPreserveCoefficient"}}}}}]}}}}},"startLine":1226}},"startLine":1225}},{"forStatementInfo":{"forKeyword":"for","declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"i","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0"}}}}]},"firstSemicolonToken":";","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"<","right":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Count"}}}}}},"secondSemicolonToken":";","incrementors":[{"postfixUnaryExpressionInfo":{"operand":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"++"}}],"statement":{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"CalcAnchorsForOriginalNode"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}},{"expression":{"identifierNameInfo":{"identifier":"intGraph"}}},{"expression":{"identifierNameInfo":{"identifier":"anchors"}}},{"expression":{"identifierNameInfo":{"identifier":"database"}}},{"expression":{"identifierNameInfo":{"identifier":"settings"}}}]}}},"startLine":1230}},"startLine":1229,"comments":["//go over the old vertices"]}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"PolyIntEdge"}},"identifier":"intEdge","inKeyword":"in","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"AllIntEdges"}}}},"statement":{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"intEdge"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LayerEdges"}}}},"operatorToken":"!=","right":{"literalExpressionInfo":{"token":"null"}}}},"statement":{"blockInfo":{"statements":[{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"LayerEdge"}},"identifier":"layerEdge","inKeyword":"in","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"intEdge"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LayerEdges"}}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"v","initializer":{"equalsToken":"=","value":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layerEdge"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Target"}}}}}}]},"startLine":1236}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"v"}},"operatorToken":"!=","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"intEdge"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Target"}}}}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Anchor"}},"variables":[{"identifier":"anchor","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"v"}}}],"closeBracketToken":"]"}}}}}]},"startLine":1238}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"prefixUnaryExpressionInfo":{"operatorToken":"!","operand":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"MultipleMiddles"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Contains"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"v"}}}]}}}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LeftAnchor"}}}},"operatorToken":"=","right":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"RightAnchor"}}}},"operatorToken":"=","right":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"VirtualNodeWidth"}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2.0f"}}}}}}}},"startLine":1240}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"TopAnchor"}}}},"operatorToken":"=","right":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BottomAnchor"}}}},"operatorToken":"=","right":{"binaryExpressionInfo":{"left":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"VirtualNodeHeight"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"settings"}}}]}}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2.0f"}}}}}}}},"startLine":1241}}],"startLine":1239}},"elseInfo":{"elseKeyword":"else","statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LeftAnchor"}}}},"operatorToken":"=","right":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"RightAnchor"}}}},"operatorToken":"=","right":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"VirtualNodeWidth"}},"operatorToken":"*","right":{"literalExpressionInfo":{"token":"4"}}}}}}}},"startLine":1243}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"TopAnchor"}}}},"operatorToken":"=","right":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BottomAnchor"}}}},"operatorToken":"=","right":{"binaryExpressionInfo":{"left":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"VirtualNodeHeight"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"settings"}}}]}}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2.0f"}}}}}}}},"startLine":1244}}],"startLine":1242}}},"startLine":1239}}],"startLine":1237}},"startLine":1237}}],"startLine":1235}},"startLine":1235}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"intEdge"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"HasLabel"}}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"lj","initializer":{"equalsToken":"=","value":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"intEdge"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LayerEdges"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"intEdge"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LayerEdges"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Count"}}}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2"}}}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Source"}}}}}}]},"startLine":1250}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Anchor"}},"variables":[{"identifier":"a","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"lj"}}}],"closeBracketToken":"]"}}}}}]},"startLine":1251}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"w","initializer":{"equalsToken":"=","value":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"intEdge"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LabelWidth"}}}}}},{"identifier":"h","initializer":{"equalsToken":"=","value":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"intEdge"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LabelHeight"}}}}}}]},"startLine":1252}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"RightAnchor"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"w"}}}},"startLine":1253}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LeftAnchor"}}}},"operatorToken":"=","right":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"VirtualNodeWidth"}},"operatorToken":"*","right":{"literalExpressionInfo":{"token":"8"}}}}}},"startLine":1254}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"TopAnchor"}}}},"operatorToken":"<","right":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"h"}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2.0"}}}}}},"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"TopAnchor"}}}},"operatorToken":"=","right":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BottomAnchor"}}}},"operatorToken":"=","right":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"h"}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2.0"}}}}}}}},"startLine":1257}},"startLine":1256}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"a"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LabelToTheRightOfAnchorCenter"}}}},"operatorToken":"=","right":{"literalExpressionInfo":{"token":"true"}}}},"startLine":1259}}],"startLine":1249}},"startLine":1249,"comments":["//fix label vertices"]}}],"startLine":1234}},"startLine":1234}},"startLine":1233,"comments":["//go over virtual vertices"]}}],"startLine":1222}}},{"methodDeclarationInfo":{"modifiers":["internal","static"],"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"CalcInitialYAnchorLocations","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"LayerArrays"}},"identifier":"layerArrays"},{"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"spaceBeforeMargins"},{"type":{"identifierNameInfo":{"identifier":"GeometryGraph"}},"identifier":"originalGraph"},{"type":{"identifierNameInfo":{"identifier":"Database"}},"identifier":"database"},{"type":{"genericNameInfo":{"identifier":"BasicGraphOnEdges","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"PolyIntEdge"}}],"greaterThanToken":">"}}},"identifier":"intGraph"},{"type":{"identifierNameInfo":{"identifier":"SugiyamaLayoutSettings"}},"identifier":"settings"},{"type":{"predefinedTypeInfo":{"keyword":"bool"}},"identifier":"layersAreDoubled"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"arrayTypeInfo":{"elementType":{"identifierNameInfo":{"identifier":"Anchor"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"omittedArraySizeExpressionInfo":{}}],"closeBracketToken":"]"}]}},"variables":[{"identifier":"anchors","initializer":{"equalsToken":"=","value":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}}}}]},"startLine":1273}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"ymax","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Margins"}}}},"operatorToken":"+","right":{"identifierNameInfo":{"identifier":"spaceBeforeMargins"}}}}}}]},"startLine":1274}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"i","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0"}}}}]},"startLine":1275}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"identifier":"yLayer","inKeyword":"in","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Layers"}}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"bottomAnchorMax","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0"}}}}]},"startLine":1277}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"topAnchorMax","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0"}}}}]},"startLine":1278}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"j","inKeyword":"in","expression":{"identifierNameInfo":{"identifier":"yLayer"}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Anchor"}},"variables":[{"identifier":"p","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"j"}}}],"closeBracketToken":"]"}}}}}]},"startLine":1280}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"p"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BottomAnchor"}}}},"operatorToken":">","right":{"identifierNameInfo":{"identifier":"bottomAnchorMax"}}}},"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"bottomAnchorMax"}},"operatorToken":"=","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"p"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BottomAnchor"}}}}}},"startLine":1282}},"startLine":1281}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"p"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"TopAnchor"}}}},"operatorToken":">","right":{"identifierNameInfo":{"identifier":"topAnchorMax"}}}},"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"topAnchorMax"}},"operatorToken":"=","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"p"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"TopAnchor"}}}}}},"startLine":1284}},"startLine":1283}}],"startLine":1279}},"startLine":1279}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"MakeVirtualNodesTall"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"yLayer"}}},{"expression":{"identifierNameInfo":{"identifier":"bottomAnchorMax"}}},{"expression":{"identifierNameInfo":{"identifier":"topAnchorMax"}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Count"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}}}]}}},"startLine":1287}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"flatEdgesHeight","initializer":{"equalsToken":"=","value":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"SetFlatEdgesForLayer"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"database"}}},{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}}},{"expression":{"identifierNameInfo":{"identifier":"i"}}},{"expression":{"identifierNameInfo":{"identifier":"intGraph"}}},{"expression":{"identifierNameInfo":{"identifier":"settings"}}},{"expression":{"identifierNameInfo":{"identifier":"ymax"}}}]}}}}}]},"startLine":1289}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"layerCenter","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"ymax"}},"operatorToken":"+","right":{"identifierNameInfo":{"identifier":"bottomAnchorMax"}}}},"operatorToken":"+","right":{"identifierNameInfo":{"identifier":"flatEdgesHeight"}}}}}}]},"startLine":1291}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"layerTop","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"layerCenter"}},"operatorToken":"+","right":{"identifierNameInfo":{"identifier":"topAnchorMax"}}}}}}]},"startLine":1292}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"NeedToSnapTopsToGrid"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"settings"}}}]}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"layerTop"}},"operatorToken":"+=","right":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"SnapDeltaUp"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"layerTop"}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"settings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"GridSizeByY"}}}}}]}}}}},"startLine":1294}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"j","inKeyword":"in","expression":{"identifierNameInfo":{"identifier":"yLayer"}},"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"j"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Top"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"layerTop"}}}},"startLine":1295}},"startLine":1295}}],"startLine":1293}},"elseInfo":{"elseKeyword":"else","statement":{"ifStatementInfo":{"ifKeyword":"if","condition":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"NeedToSnapBottomsToGrid"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"settings"}}}]}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"layerBottom","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"layerCenter"}},"operatorToken":"-","right":{"identifierNameInfo":{"identifier":"bottomAnchorMax"}}}}}}]},"startLine":1297}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"layerBottom"}},"operatorToken":"+=","right":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"SnapDeltaUp"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"layerBottom"}}},{"expression":{"identifierNameInfo":{"identifier":"layerBottom"}}}]}}}}},"startLine":1298}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"j","inKeyword":"in","expression":{"identifierNameInfo":{"identifier":"yLayer"}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"j"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Bottom"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"layerBottom"}}}},"startLine":1301}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"layerTop"}},"operatorToken":"=","right":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"Math"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Max"}}}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"j"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Top"}}}}},{"expression":{"identifierNameInfo":{"identifier":"layerTop"}}}]}}}}},"startLine":1302}}],"startLine":1300}},"startLine":1299}}],"startLine":1296}},"elseInfo":{"elseKeyword":"else","statement":{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"j","inKeyword":"in","expression":{"identifierNameInfo":{"identifier":"yLayer"}},"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"j"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"layerCenter"}}}},"startLine":1305}},"startLine":1305}}},"startLine":1296}}},"startLine":1293}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"layerSep","initializer":{"equalsToken":"=","value":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"settings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"ActualLayerSeparation"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"layersAreDoubled"}}}]}}}}}]},"startLine":1307}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"ymax"}},"operatorToken":"=","right":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"layerTop"}},"operatorToken":"+","right":{"identifierNameInfo":{"identifier":"layerSep"}}}}}},"startLine":1308}},{"expressionStatementInfo":{"expression":{"postfixUnaryExpressionInfo":{"operand":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"++"}},"startLine":1309}}],"startLine":1276}},"startLine":1276}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"SetFlatEdgesForLayer"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"database"}}},{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}}},{"expression":{"identifierNameInfo":{"identifier":"i"}}},{"expression":{"identifierNameInfo":{"identifier":"intGraph"}}},{"expression":{"identifierNameInfo":{"identifier":"settings"}}},{"expression":{"identifierNameInfo":{"identifier":"ymax"}}}]}}},"startLine":1312,"comments":["// for the last layer"]}}],"startLine":1272},"comments":["/// <summary>\n///\n/// </summary>\n/// <returns>the height of the graph+spaceBeforeMargins</returns>"]}},{"methodDeclarationInfo":{"modifiers":["private","static"],"returnType":{"predefinedTypeInfo":{"keyword":"bool"}},"identifier":"NeedToSnapTopsToGrid","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"SugiyamaLayoutSettings"}},"identifier":"settings"}]},"body":{"statements":[{"returnStatementInfo":{"returnKeyword":"return","expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"settings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"SnapToGridByY"}}}},"operatorToken":"==","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"SnapToGridByY"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Top"}}}}}},"startLine":1317}}],"startLine":1316}}},{"methodDeclarationInfo":{"modifiers":["private","static"],"returnType":{"predefinedTypeInfo":{"keyword":"bool"}},"identifier":"NeedToSnapBottomsToGrid","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"SugiyamaLayoutSettings"}},"identifier":"settings"}]},"body":{"statements":[{"returnStatementInfo":{"returnKeyword":"return","expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"settings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"SnapToGridByY"}}}},"operatorToken":"==","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"SnapToGridByY"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Bottom"}}}}}},"startLine":1322}}],"startLine":1321}}},{"methodDeclarationInfo":{"modifiers":["static"],"returnType":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"SnapDeltaUp","parameterList":{"parameters":[{"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"y"},{"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"gridSize"}]},"body":{"statements":[{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"gridSize"}},"operatorToken":"==","right":{"literalExpressionInfo":{"token":"0"}}}},"statement":{"returnStatementInfo":{"returnKeyword":"return","expression":{"literalExpressionInfo":{"token":"0"}},"startLine":1328}},"startLine":1327}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"k","initializer":{"equalsToken":"=","value":{"castExpressionInfo":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"expression":{"parenthesizedExpressionInfo":{"expression":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"y"}},"operatorToken":"/","right":{"identifierNameInfo":{"identifier":"gridSize"}}}}}}}}}}],"comments":["// how much to snap?"]},"startLine":1330,"comments":["// how much to snap?"]}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"delta","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"y"}},"operatorToken":"-","right":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"k"}},"operatorToken":"*","right":{"identifierNameInfo":{"identifier":"gridSize"}}}}}}}}]},"startLine":1331}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"Debug"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Assert"}}}},"argumentList":{"arguments":[{"expression":{"binaryExpressionInfo":{"left":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"delta"}},"operatorToken":">=","right":{"literalExpressionInfo":{"token":"0"}}}},"operatorToken":"&&","right":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"delta"}},"operatorToken":"<","right":{"identifierNameInfo":{"identifier":"gridSize"}}}}}}}]}}},"startLine":1332}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"Math"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Abs"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"delta"}}}]}}},"operatorToken":"<","right":{"literalExpressionInfo":{"token":"0.0001"}}}},"statement":{"blockInfo":{"statements":[{"returnStatementInfo":{"returnKeyword":"return","expression":{"literalExpressionInfo":{"token":"0"}},"startLine":1335}}],"startLine":1334}},"startLine":1333}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"gridSize"}},"operatorToken":"-","right":{"identifierNameInfo":{"identifier":"delta"}}}},"startLine":1337}}],"startLine":1326}}},{"methodDeclarationInfo":{"modifiers":["internal"],"returnType":{"identifierNameInfo":{"identifier":"Point"}},"identifier":"CalculateApproximateDimensions","parameterList":{},"body":{"statements":[{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"CreateGluedDagSkeletonForLayering"}},"argumentList":{}}},"startLine":1346}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"ns","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"NetworkSimplexForGeneralGraph"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"GluedDagSkeletonForLayering"}}},{"expression":{"literalExpressionInfo":{"token":"null"}}}]}}}}}]},"startLine":1347}},{"localDeclarationStatementInfo":{"declaration":{"type":{"arrayTypeInfo":{"elementType":{"predefinedTypeInfo":{"keyword":"int"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"omittedArraySizeExpressionInfo":{}}],"closeBracketToken":"]"}]}},"variables":[{"identifier":"layers","initializer":{"equalsToken":"=","value":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"ns"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"GetLayers"}}}},"argumentList":{}}}}}],"comments":["// layers[0] is the layer of the first node, layers[1]: layer of second node, etc..."]},"startLine":1350,"comments":["// layers[0] is the layer of the first node, layers[1]: layer of second node, etc..."]}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"layerMap","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"genericNameInfo":{"identifier":"Dictionary","typeArgumentList":{"lessThanToken":"<","arguments":[{"predefinedTypeInfo":{"keyword":"int"}},{"identifierNameInfo":{"identifier":"Point"}}],"greaterThanToken":">"}}},"argumentList":{}}}}}],"comments":["// for each layer we need the maximum node height and the sum of all node widths","// in order to calculate the total width and height of the graph"]},"startLine":1354,"comments":["// for each layer we need the maximum node height and the sum of all node widths","// in order to calculate the total width and height of the graph"]}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"width"},{"identifier":"height"}]},"startLine":1355}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Direction"}},"variables":[{"identifier":"layoutDirection","initializer":{"equalsToken":"=","value":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"GetLayoutDirection"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}}}]}}}}}]},"startLine":1357}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"layoutDirection"}},"operatorToken":"==","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"Direction"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"North"}}}}}},"operatorToken":"||","right":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"layoutDirection"}},"operatorToken":"==","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"Direction"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"South"}}}}}}}},"statement":{"blockInfo":{"statements":[{"forStatementInfo":{"forKeyword":"for","declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"i","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0"}}}}]},"firstSemicolonToken":";","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"<","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layers"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}}}},"secondSemicolonToken":";","incrementors":[{"prefixUnaryExpressionInfo":{"operatorToken":"++","operand":{"identifierNameInfo":{"identifier":"i"}}}}],"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Node"}},"variables":[{"identifier":"v","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}}}}]},"startLine":1360}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Point"}},"variables":[{"identifier":"size","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"Point"}},"argumentList":{"arguments":[{"expression":{"literalExpressionInfo":{"token":"0.0"}}},{"expression":{"literalExpressionInfo":{"token":"0.0"}}}]}}}}}]},"startLine":1361}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"l","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layers"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}}}}]},"startLine":1362}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layerMap"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"TryGetValue"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"l"}}},{"refOrOutKeyword":"out","refKindKeyword":"out","expression":{"identifierNameInfo":{"identifier":"size"}}}]}}},"startLine":1363}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layerMap"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"l"}}}],"closeBracketToken":"]"}}},"operatorToken":"=","right":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"Point"}},"argumentList":{"arguments":[{"expression":{"binaryExpressionInfo":{"left":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"v"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BoundingBox"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Width"}}}},"operatorToken":"+","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"size"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}}}},"operatorToken":"+","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"NodeSeparation"}}}}}}},{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"Math"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Max"}}}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"v"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BoundingBox"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Height"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"size"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}}}]}}}}]}}}}},"startLine":1364}}],"startLine":1359}},"startLine":1359}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"width"}},"operatorToken":"=","right":{"literalExpressionInfo":{"token":"0"}}}},"startLine":1368}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"height"}},"operatorToken":"=","right":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LayerSeparation"}}}},"operatorToken":"*","right":{"parenthesizedExpressionInfo":{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layerMap"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Count"}}}},"operatorToken":"-","right":{"literalExpressionInfo":{"token":"1"}}}}}}}}}},"startLine":1369}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"Point"}},"identifier":"size","inKeyword":"in","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layerMap"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Values"}}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"width"}},"operatorToken":"=","right":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"Math"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Max"}}}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"size"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}}},{"expression":{"identifierNameInfo":{"identifier":"width"}}}]}}}}},"startLine":1372}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"height"}},"operatorToken":"+=","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"size"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}}}},"startLine":1373}}],"startLine":1371}},"startLine":1371}}],"startLine":1358}},"elseInfo":{"elseKeyword":"else","statement":{"blockInfo":{"statements":[{"forStatementInfo":{"forKeyword":"for","declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"i","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0"}}}}]},"firstSemicolonToken":";","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"<","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layers"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}}}},"secondSemicolonToken":";","incrementors":[{"prefixUnaryExpressionInfo":{"operatorToken":"++","operand":{"identifierNameInfo":{"identifier":"i"}}}}],"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Node"}},"variables":[{"identifier":"v","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"originalGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}}}}]},"startLine":1377}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Point"}},"variables":[{"identifier":"size"}]},"startLine":1378}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"l","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layers"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}}}}]},"startLine":1379}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layerMap"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"TryGetValue"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"l"}}},{"refOrOutKeyword":"out","refKindKeyword":"out","expression":{"identifierNameInfo":{"identifier":"size"}}}]}}},"startLine":1380}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layerMap"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"l"}}}],"closeBracketToken":"]"}}},"operatorToken":"=","right":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"Point"}},"argumentList":{"arguments":[{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"Math"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Max"}}}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"v"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BoundingBox"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Width"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"size"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}}}]}}}},{"expression":{"binaryExpressionInfo":{"left":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"v"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BoundingBox"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Height"}}}},"operatorToken":"+","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"size"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}}}},"operatorToken":"+","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"NodeSeparation"}}}}}}}]}}}}},"startLine":1381}}],"startLine":1376}},"startLine":1376}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"width"}},"operatorToken":"=","right":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LayerSeparation"}}}},"operatorToken":"*","right":{"parenthesizedExpressionInfo":{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layerMap"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Count"}}}},"operatorToken":"-","right":{"literalExpressionInfo":{"token":"1"}}}}}}}}}},"startLine":1385}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"height"}},"operatorToken":"=","right":{"literalExpressionInfo":{"token":"0"}}}},"startLine":1386}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"Point"}},"identifier":"size","inKeyword":"in","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layerMap"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Values"}}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"width"}},"operatorToken":"+=","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"size"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}}}},"startLine":1389}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"height"}},"operatorToken":"=","right":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"Math"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Max"}}}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"size"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}}},{"expression":{"identifierNameInfo":{"identifier":"height"}}}]}}}}},"startLine":1390}}],"startLine":1388}},"startLine":1388}}],"startLine":1375}}},"startLine":1358}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"Point"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"width"}}},{"expression":{"identifierNameInfo":{"identifier":"height"}}}]}}},"startLine":1393}}],"startLine":1345},"comments":["/// <summary>\n/// try to estimate the dimensions of the ensuing layout, useful for determining if we are going\n/// to go through with it, or try a different layout method (e.g. if the aspect ratio is too wacky)\n/// </summary>\n/// <returns>the width and height in X and Y respectively</returns>"]}},{"methodDeclarationInfo":{"modifiers":["static"],"returnType":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"SetFlatEdgesForLayer","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"Database"}},"identifier":"database"},{"type":{"identifierNameInfo":{"identifier":"LayerArrays"}},"identifier":"layerArrays"},{"type":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"i"},{"type":{"genericNameInfo":{"identifier":"BasicGraphOnEdges","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"PolyIntEdge"}}],"greaterThanToken":">"}}},"identifier":"intGraph"},{"type":{"identifierNameInfo":{"identifier":"SugiyamaLayoutSettings"}},"identifier":"settings"},{"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"ymax"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"flatEdgesHeight","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0"}}}}]},"startLine":1398}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":">","right":{"literalExpressionInfo":{"token":"0"}}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"genericNameInfo":{"identifier":"IEnumerable","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"IntPair"}}],"greaterThanToken":">"}}},"variables":[{"identifier":"flatPairs","initializer":{"equalsToken":"=","value":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"GetFlatPairs"}},"argumentList":{"arguments":[{"expression":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Layers"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"-","right":{"literalExpressionInfo":{"token":"1"}}}}}],"closeBracketToken":"]"}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Y"}}}}},{"expression":{"identifierNameInfo":{"identifier":"intGraph"}}}]}}}}}],"comments":["//looking for flat edges on the previous level","//we stack labels of multiple flat edges on top of each other"]},"startLine":1402,"comments":["//looking for flat edges on the previous level","//we stack labels of multiple flat edges on top of each other"]}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"flatPairs"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Any"}}}},"argumentList":{}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"dyOfFlatEdge","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"settings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LayerSeparation"}}}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"3"}}}}}}]},"startLine":1405}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"ym","initializer":{"equalsToken":"=","value":{"identifierNameInfo":{"identifier":"ymax"}}}}]},"startLine":1406}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"flatEdgesHeight"}},"operatorToken":"=","right":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"parenthesizedExpressionInfo":{"expression":{"queryExpressionInfo":{"fromClause":{"fromKeyword":"from","identifier":"pair","inKeyword":"in","expression":{"identifierNameInfo":{"identifier":"flatPairs"}}},"body":{"selectOrGroup":{"selectClauseInfo":{"selectKeyword":"select","expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"SetFlatEdgesLabelsHeightAndPositionts"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"pair"}}},{"expression":{"identifierNameInfo":{"identifier":"ym"}}},{"expression":{"identifierNameInfo":{"identifier":"dyOfFlatEdge"}}},{"expression":{"identifierNameInfo":{"identifier":"database"}}}]}}}}}}}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Max"}}}},"argumentList":{}}}}},"startLine":1407}}],"startLine":1404}},"startLine":1404}}],"startLine":1399}},"startLine":1399}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"identifierNameInfo":{"identifier":"flatEdgesHeight"}},"startLine":1413}}],"startLine":1397}}},{"methodDeclarationInfo":{"modifiers":["internal","static"],"returnType":{"identifierNameInfo":{"identifier":"Direction"}},"identifier":"GetLayoutDirection","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"SugiyamaLayoutSettings"}},"identifier":"settings"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Point"}},"variables":[{"identifier":"dir","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"settings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Transformation"}}}},"operatorToken":"*","right":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"Point"}},"argumentList":{"arguments":[{"expression":{"literalExpressionInfo":{"token":"0"}}},{"expression":{"literalExpressionInfo":{"token":"1"}}}]}}}}}}}]},"startLine":1417}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"dir"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"CompassDirection"}}}},"startLine":1418}}],"startLine":1416}}},{"methodDeclarationInfo":{"modifiers":["static"],"returnType":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"SetFlatEdgesLabelsHeightAndPositionts","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"IntPair"}},"identifier":"pair"},{"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"ymax"},{"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"dy"},{"type":{"identifierNameInfo":{"identifier":"Database"}},"identifier":"database"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"height","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0"}}}}]},"startLine":1422}},{"localDeclarationStatementInfo":{"declaration":{"type":{"genericNameInfo":{"identifier":"List","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"PolyIntEdge"}}],"greaterThanToken":">"}}},"variables":[{"identifier":"list","initializer":{"equalsToken":"=","value":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"GetMultiedge"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"pair"}}}]}}}}}]},"startLine":1423}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"PolyIntEdge"}},"identifier":"edge","inKeyword":"in","expression":{"identifierNameInfo":{"identifier":"list"}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"height"}},"operatorToken":"+=","right":{"identifierNameInfo":{"identifier":"dy"}}}},"startLine":1425}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Label"}},"variables":[{"identifier":"label","initializer":{"equalsToken":"=","value":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"edge"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Edge"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Label"}}}}}}]},"startLine":1426}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"label"}},"operatorToken":"!=","right":{"literalExpressionInfo":{"token":"null"}}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"label"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Center"}}}},"operatorToken":"=","right":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"Point"}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"label"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Center"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"X"}}}}},{"expression":{"binaryExpressionInfo":{"left":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"ymax"}},"operatorToken":"+","right":{"identifierNameInfo":{"identifier":"height"}}}},"operatorToken":"+","right":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"label"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Height"}}}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2"}}}}}}}]}}}}},"startLine":1428}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"height"}},"operatorToken":"+=","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"label"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Height"}}}}}},"startLine":1429}}],"startLine":1427}},"startLine":1427}}],"startLine":1424}},"startLine":1424}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"identifierNameInfo":{"identifier":"height"}},"startLine":1432}}],"startLine":1421}}},{"methodDeclarationInfo":{"modifiers":["static"],"returnType":{"genericNameInfo":{"identifier":"IEnumerable","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"IntPair"}}],"greaterThanToken":">"}}},"identifier":"GetFlatPairs","parameterList":{"parameters":[{"type":{"arrayTypeInfo":{"elementType":{"predefinedTypeInfo":{"keyword":"int"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"omittedArraySizeExpressionInfo":{}}],"closeBracketToken":"]"}]}},"identifier":"layer"},{"type":{"arrayTypeInfo":{"elementType":{"predefinedTypeInfo":{"keyword":"int"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"omittedArraySizeExpressionInfo":{}}],"closeBracketToken":"]"}]}},"identifier":"layering"},{"type":{"genericNameInfo":{"identifier":"BasicGraphOnEdges","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"PolyIntEdge"}}],"greaterThanToken":">"}}},"identifier":"intGraph"}]},"body":{"statements":[{"returnStatementInfo":{"returnKeyword":"return","expression":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"genericNameInfo":{"identifier":"Set","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"IntPair"}}],"greaterThanToken":">"}}},"argumentList":{"arguments":[{"expression":{"queryExpressionInfo":{"fromClause":{"fromKeyword":"from","identifier":"v","inKeyword":"in","expression":{"identifierNameInfo":{"identifier":"layer"}}},"body":{"clauses":[{"whereClauseInfo":{"whereKeyword":"where","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"v"}},"operatorToken":"<","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"intGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"NodeCount"}}}}}}}},{"fromClauseInfo":{"fromKeyword":"from","identifier":"edge","inKeyword":"in","expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"intGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"OutEdges"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"v"}}}]}}}}},{"whereClauseInfo":{"whereKeyword":"where","condition":{"binaryExpressionInfo":{"left":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layering"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"edge"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Source"}}}}}],"closeBracketToken":"]"}}},"operatorToken":"==","right":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layering"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"edge"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Target"}}}}}],"closeBracketToken":"]"}}}}}}}],"selectOrGroup":{"selectClauseInfo":{"selectKeyword":"select","expression":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"IntPair"}},"argumentList":{"arguments":[{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"edge"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Source"}}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"edge"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Target"}}}}}]}}}}}}}}}]}}},"startLine":1437}}],"startLine":1436}}},{"methodDeclarationInfo":{"modifiers":["static"],"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"MakeVirtualNodesTall","parameterList":{"parameters":[{"type":{"arrayTypeInfo":{"elementType":{"predefinedTypeInfo":{"keyword":"int"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"omittedArraySizeExpressionInfo":{}}],"closeBracketToken":"]"}]}},"identifier":"yLayer"},{"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"bottomAnchorMax"},{"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"topAnchorMax"},{"type":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"originalNodeCount"},{"type":{"arrayTypeInfo":{"elementType":{"identifierNameInfo":{"identifier":"Anchor"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"omittedArraySizeExpressionInfo":{}}],"closeBracketToken":"]"}]}},"identifier":"anchors"}]},"body":{"statements":[{"ifStatementInfo":{"ifKeyword":"if","condition":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"LayerIsOriginal"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"yLayer"}}},{"expression":{"identifierNameInfo":{"identifier":"originalNodeCount"}}}]}}},"statement":{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"j","inKeyword":"in","expression":{"identifierNameInfo":{"identifier":"yLayer"}},"statement":{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"j"}},"operatorToken":">=","right":{"identifierNameInfo":{"identifier":"originalNodeCount"}}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Anchor"}},"variables":[{"identifier":"p","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"j"}}}],"closeBracketToken":"]"}}}}}]},"startLine":1449}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"p"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"BottomAnchor"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"bottomAnchorMax"}}}},"startLine":1450}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"p"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"TopAnchor"}}}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"topAnchorMax"}}}},"startLine":1451}}],"startLine":1448}},"startLine":1448}},"startLine":1447}},"startLine":1446}}],"startLine":1445}}},{"methodDeclarationInfo":{"modifiers":["static"],"returnType":{"predefinedTypeInfo":{"keyword":"bool"}},"identifier":"LayerIsOriginal","parameterList":{"parameters":[{"type":{"arrayTypeInfo":{"elementType":{"predefinedTypeInfo":{"keyword":"int"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"omittedArraySizeExpressionInfo":{}}],"closeBracketToken":"]"}]}},"identifier":"yLayer"},{"type":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"origNodeCount"}]},"body":{"statements":[{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"j","inKeyword":"in","expression":{"identifierNameInfo":{"identifier":"yLayer"}},"statement":{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"j"}},"operatorToken":"<","right":{"identifierNameInfo":{"identifier":"origNodeCount"}}}},"statement":{"returnStatementInfo":{"returnKeyword":"return","expression":{"literalExpressionInfo":{"token":"true"}},"startLine":1458}},"startLine":1457}},"startLine":1456}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"literalExpressionInfo":{"token":"false"}},"startLine":1459}}],"startLine":1455}}},{"methodDeclarationInfo":{"modifiers":["static"],"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"CalcAnchorsForOriginalNode","parameterList":{"parameters":[{"type":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"i"},{"type":{"genericNameInfo":{"identifier":"BasicGraph","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"Node"}},{"identifierNameInfo":{"identifier":"PolyIntEdge"}}],"greaterThanToken":">"}}},"identifier":"intGraph"},{"type":{"arrayTypeInfo":{"elementType":{"identifierNameInfo":{"identifier":"Anchor"}},"rankSpecifiers":[{"rank":1,"openBracketToken":"[","sizes":[{"omittedArraySizeExpressionInfo":{}}],"closeBracketToken":"]"}]}},"identifier":"anchors"},{"type":{"identifierNameInfo":{"identifier":"Database"}},"identifier":"database"},{"type":{"identifierNameInfo":{"identifier":"SugiyamaLayoutSettings"}},"identifier":"settings"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"leftAnchor","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0"}}}}]},"startLine":1464}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"rightAnchor","initializer":{"equalsToken":"=","value":{"identifierNameInfo":{"identifier":"leftAnchor"}}}}]},"startLine":1465}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"topAnchor","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0"}}}}]},"startLine":1466}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"bottomAnchor","initializer":{"equalsToken":"=","value":{"identifierNameInfo":{"identifier":"topAnchor"}}}}]},"startLine":1467}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"intGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"operatorToken":"!=","right":{"literalExpressionInfo":{"token":"null"}}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Node"}},"variables":[{"identifier":"node","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"intGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}}}}]},"startLine":1472}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"ExtendStandardAnchors"}},"argumentList":{"arguments":[{"refOrOutKeyword":"ref","refKindKeyword":"ref","expression":{"identifierNameInfo":{"identifier":"leftAnchor"}}},{"refOrOutKeyword":"ref","refKindKeyword":"ref","expression":{"identifierNameInfo":{"identifier":"rightAnchor"}}},{"refOrOutKeyword":"ref","refKindKeyword":"ref","expression":{"identifierNameInfo":{"identifier":"topAnchor"}}},{"refOrOutKeyword":"ref","refKindKeyword":"ref","expression":{"identifierNameInfo":{"identifier":"bottomAnchor"}}},{"expression":{"identifierNameInfo":{"identifier":"node"}}},{"expression":{"identifierNameInfo":{"identifier":"settings"}}}]}}},"startLine":1473}}],"startLine":1471}},"startLine":1471,"comments":["//that's what we would have without the label and multiedges"]}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"RightAnchorMultiSelfEdges"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}},{"refOrOutKeyword":"ref","refKindKeyword":"ref","expression":{"identifierNameInfo":{"identifier":"rightAnchor"}}},{"refOrOutKeyword":"ref","refKindKeyword":"ref","expression":{"identifierNameInfo":{"identifier":"topAnchor"}}},{"refOrOutKeyword":"ref","refKindKeyword":"ref","expression":{"identifierNameInfo":{"identifier":"bottomAnchor"}}},{"expression":{"identifierNameInfo":{"identifier":"database"}}},{"expression":{"identifierNameInfo":{"identifier":"settings"}}}]}}},"startLine":1476}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"hw","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"settings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"MinNodeWidth"}}}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2"}}}}}}]},"startLine":1478}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"leftAnchor"}},"operatorToken":"<","right":{"identifierNameInfo":{"identifier":"hw"}}}},"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"leftAnchor"}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"hw"}}}},"startLine":1480}},"startLine":1479}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"rightAnchor"}},"operatorToken":"<","right":{"identifierNameInfo":{"identifier":"hw"}}}},"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"rightAnchor"}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"hw"}}}},"startLine":1482}},"startLine":1481}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"hh","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"settings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"MinNodeHeight"}}}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2"}}}}}}]},"startLine":1483}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"topAnchor"}},"operatorToken":"<","right":{"identifierNameInfo":{"identifier":"hh"}}}},"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"topAnchor"}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"hh"}}}},"startLine":1486}},"startLine":1485}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"bottomAnchor"}},"operatorToken":"<","right":{"identifierNameInfo":{"identifier":"hh"}}}},"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"bottomAnchor"}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"hh"}}}},"startLine":1488}},"startLine":1487}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"anchors"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}},"operatorToken":"=","right":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"Anchor"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"leftAnchor"}}},{"expression":{"identifierNameInfo":{"identifier":"rightAnchor"}}},{"expression":{"identifierNameInfo":{"identifier":"topAnchor"}}},{"expression":{"identifierNameInfo":{"identifier":"bottomAnchor"}}},{"expression":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"intGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"settings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LabelCornersPreserveCoefficient"}}}}}]},"initializer":{"expressions":[{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"Padding"}},"operatorToken":"=","right":{"memberAccessExpressionInfo":{"expression":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"intGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Nodes"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Padding"}}}}}}]}}}}},"startLine":1490}}],"startLine":1463}}},{"methodDeclarationInfo":{"modifiers":["static"],"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"RightAnchorMultiSelfEdges","parameterList":{"parameters":[{"type":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"i"},{"modifiers":["ref"],"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"rightAnchor"},{"modifiers":["ref"],"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"topAnchor"},{"modifiers":["ref"],"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"bottomAnchor"},{"type":{"identifierNameInfo":{"identifier":"Database"}},"identifier":"database"},{"type":{"identifierNameInfo":{"identifier":"SugiyamaLayoutSettings"}},"identifier":"settings"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"delta","initializer":{"equalsToken":"=","value":{"invocationExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"WidthOfSelfEdge"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"database"}}},{"expression":{"identifierNameInfo":{"identifier":"i"}}},{"refOrOutKeyword":"ref","refKindKeyword":"ref","expression":{"identifierNameInfo":{"identifier":"rightAnchor"}}},{"refOrOutKeyword":"ref","refKindKeyword":"ref","expression":{"identifierNameInfo":{"identifier":"topAnchor"}}},{"refOrOutKeyword":"ref","refKindKeyword":"ref","expression":{"identifierNameInfo":{"identifier":"bottomAnchor"}}},{"expression":{"identifierNameInfo":{"identifier":"settings"}}}]}}}}}]},"startLine":1500}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"rightAnchor"}},"operatorToken":"+=","right":{"identifierNameInfo":{"identifier":"delta"}}}},"startLine":1502}}],"startLine":1499}}},{"methodDeclarationInfo":{"modifiers":["static"],"returnType":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"WidthOfSelfEdge","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"Database"}},"identifier":"database"},{"type":{"predefinedTypeInfo":{"keyword":"int"}},"identifier":"i"},{"modifiers":["ref"],"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"rightAnchor"},{"modifiers":["ref"],"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"topAnchor"},{"modifiers":["ref"],"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"bottomAnchor"},{"type":{"identifierNameInfo":{"identifier":"SugiyamaLayoutSettings"}},"identifier":"settings"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"delta","initializer":{"equalsToken":"=","value":{"literalExpressionInfo":{"token":"0"}}}}]},"startLine":1507}},{"localDeclarationStatementInfo":{"declaration":{"type":{"genericNameInfo":{"identifier":"List","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"PolyIntEdge"}}],"greaterThanToken":">"}}},"variables":[{"identifier":"multiedges","initializer":{"equalsToken":"=","value":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"GetMultiedge"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}},{"expression":{"identifierNameInfo":{"identifier":"i"}}}]}}}}}]},"startLine":1508}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"multiedges"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Count"}}}},"operatorToken":">","right":{"literalExpressionInfo":{"token":"0"}}}},"statement":{"blockInfo":{"statements":[{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"PolyIntEdge"}},"identifier":"e","inKeyword":"in","expression":{"identifierNameInfo":{"identifier":"multiedges"}},"statement":{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Edge"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Label"}}}},"operatorToken":"!=","right":{"literalExpressionInfo":{"token":"null"}}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"rightAnchor"}},"operatorToken":"+=","right":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Edge"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Label"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Width"}}}}}},"startLine":1513}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"topAnchor"}},"operatorToken":"<","right":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Edge"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Label"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Height"}}}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2.0"}}}}}},"statement":{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"topAnchor"}},"operatorToken":"=","right":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"bottomAnchor"}},"operatorToken":"=","right":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Edge"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Label"}}}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Height"}}}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2.0f"}}}}}}}},"startLine":1515}},"startLine":1514}}],"startLine":1512}},"startLine":1512}},"startLine":1511}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"delta"}},"operatorToken":"+=","right":{"binaryExpressionInfo":{"left":{"parenthesizedExpressionInfo":{"expression":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"settings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"NodeSeparation"}}}},"operatorToken":"+","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"settings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"MinNodeWidth"}}}}}}}},"operatorToken":"*","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"multiedges"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Count"}}}}}}}},"startLine":1518}}],"startLine":1510}},"startLine":1510,"comments":["//it could be a multiple self edge"]}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"identifierNameInfo":{"identifier":"delta"}},"startLine":1520}}],"startLine":1506}}},{"methodDeclarationInfo":{"modifiers":["static"],"returnType":{"predefinedTypeInfo":{"keyword":"void"}},"identifier":"ExtendStandardAnchors","parameterList":{"parameters":[{"modifiers":["ref"],"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"leftAnchor"},{"modifiers":["ref"],"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"rightAnchor"},{"modifiers":["ref"],"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"topAnchor"},{"modifiers":["ref"],"type":{"predefinedTypeInfo":{"keyword":"double"}},"identifier":"bottomAnchor"},{"type":{"identifierNameInfo":{"identifier":"Node"}},"identifier":"node"},{"type":{"identifierNameInfo":{"identifier":"SugiyamaLayoutSettings"}},"identifier":"settings"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"w","initializer":{"equalsToken":"=","value":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"node"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Width"}}}}}}]},"startLine":1525}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"h","initializer":{"equalsToken":"=","value":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"node"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Height"}}}}}}]},"startLine":1526}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"w"}},"operatorToken":"/=","right":{"literalExpressionInfo":{"token":"2.0"}}}},"startLine":1529}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"h"}},"operatorToken":"/=","right":{"literalExpressionInfo":{"token":"2.0"}}}},"startLine":1530}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"rightAnchor"}},"operatorToken":"=","right":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"leftAnchor"}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"w"}}}}}},"startLine":1533}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"topAnchor"}},"operatorToken":"=","right":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"bottomAnchor"}},"operatorToken":"=","right":{"identifierNameInfo":{"identifier":"h"}}}}}},"startLine":1534}},{"ifStatementInfo":{"ifKeyword":"if","condition":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"settings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"GridSizeByX"}}}},"operatorToken":">","right":{"literalExpressionInfo":{"token":"0"}}}},"statement":{"blockInfo":{"statements":[{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"rightAnchor"}},"operatorToken":"+=","right":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"settings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"GridSizeByX"}}}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2"}}}}}},"startLine":1537}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"leftAnchor"}},"operatorToken":"+=","right":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"settings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"GridSizeByX"}}}},"operatorToken":"/","right":{"literalExpressionInfo":{"token":"2"}}}}}},"startLine":1538}}],"startLine":1536}},"startLine":1535}}],"startLine":1524}}},{"methodDeclarationInfo":{"returnType":{"identifierNameInfo":{"identifier":"XLayoutGraph"}},"identifier":"CreateXLayoutGraph","parameterList":{"parameters":[{"type":{"identifierNameInfo":{"identifier":"LayerArrays"}},"identifier":"layerArrays"}]},"body":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"nOfVerts","initializer":{"equalsToken":"=","value":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"properLayeredGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"NodeCount"}}}}}}]},"startLine":1556}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"edges","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"genericNameInfo":{"identifier":"List","typeArgumentList":{"lessThanToken":"<","arguments":[{"identifierNameInfo":{"identifier":"PolyIntEdge"}}],"greaterThanToken":">"}}},"argumentList":{}}}}}],"comments":["//create edges of XLayoutGraph"]},"startLine":1559,"comments":["//create edges of XLayoutGraph"]}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"LayerEdge"}},"identifier":"e","inKeyword":"in","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"properLayeredGraph"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Edges"}}}},"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"n1","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"PolyIntEdge"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"nOfVerts"}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Source"}}}}}]}}}}}]},"startLine":1562}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"n2","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"PolyIntEdge"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"nOfVerts"}}},{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Target"}}}}}]}}}}}]},"startLine":1563}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"n1"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Weight"}}}},"operatorToken":"=","right":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"n2"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Weight"}}}},"operatorToken":"=","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"e"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Weight"}}}}}}}},"startLine":1564}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"n1"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Separation"}}}},"operatorToken":"=","right":{"literalExpressionInfo":{"token":"0"}}}},"startLine":1565}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"n2"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Separation"}}}},"operatorToken":"=","right":{"literalExpressionInfo":{"token":"0"}}}},"startLine":1566}},{"expressionStatementInfo":{"expression":{"postfixUnaryExpressionInfo":{"operand":{"identifierNameInfo":{"identifier":"nOfVerts"}},"operatorToken":"++"}},"startLine":1567}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"edges"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Add"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"n1"}}}]}}},"startLine":1568}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"edges"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Add"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"n2"}}}]}}},"startLine":1569}}],"startLine":1561}},"startLine":1561}},{"forEachStatementInfo":{"forEachKeyword":"foreach","type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"identifier":"layer","inKeyword":"in","expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Layers"}}}},"statement":{"forStatementInfo":{"forKeyword":"for","declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"i","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layer"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Length"}}}},"operatorToken":"-","right":{"literalExpressionInfo":{"token":"1"}}}}}}]},"firstSemicolonToken":";","condition":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":">","right":{"literalExpressionInfo":{"token":"0"}}}},"secondSemicolonToken":";","incrementors":[{"postfixUnaryExpressionInfo":{"operand":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"--"}}],"statement":{"blockInfo":{"statements":[{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"source","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layer"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"i"}}}],"closeBracketToken":"]"}}}}}]},"startLine":1574}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"variables":[{"identifier":"target","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"layer"}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"i"}},"operatorToken":"-","right":{"literalExpressionInfo":{"token":"1"}}}}}],"closeBracketToken":"]"}}}}}]},"startLine":1575}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"ie","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"PolyIntEdge"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"source"}}},{"expression":{"identifierNameInfo":{"identifier":"target"}}}]}}}}}]},"startLine":1576}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Anchor"}},"variables":[{"identifier":"sourceAnchor","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"source"}}}],"closeBracketToken":"]"}}}}}]},"startLine":1577}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"Anchor"}},"variables":[{"identifier":"targetAnchor","initializer":{"equalsToken":"=","value":{"elementAccessExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"database"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Anchors"}}}},"argumentList":{"openBracketToken":"[","arguments":[{"expression":{"identifierNameInfo":{"identifier":"target"}}}],"closeBracketToken":"]"}}}}}]},"startLine":1578}},{"localDeclarationStatementInfo":{"declaration":{"type":{"predefinedTypeInfo":{"keyword":"double"}},"variables":[{"identifier":"sep","initializer":{"equalsToken":"=","value":{"binaryExpressionInfo":{"left":{"binaryExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sourceAnchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"LeftAnchor"}}}},"operatorToken":"+","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"targetAnchor"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"RightAnchor"}}}}}},"operatorToken":"+","right":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"NodeSeparation"}}}}}}}}]},"startLine":1580}},{"expressionStatementInfo":{"expression":{"assignmentExpressionInfo":{"left":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"ie"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Separation"}}}},"operatorToken":"=","right":{"castExpressionInfo":{"type":{"predefinedTypeInfo":{"keyword":"int"}},"expression":{"parenthesizedExpressionInfo":{"expression":{"binaryExpressionInfo":{"left":{"identifierNameInfo":{"identifier":"sep"}},"operatorToken":"+","right":{"literalExpressionInfo":{"token":"1"}}}}}}}}}},"startLine":1582}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"edges"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"Add"}}}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"ie"}}}]}}},"startLine":1584}}],"startLine":1573}},"startLine":1573}},"startLine":1572}},{"localDeclarationStatementInfo":{"declaration":{"type":{"identifierNameInfo":{"identifier":"var","isVar":true},"isVar":true},"variables":[{"identifier":"ret","initializer":{"equalsToken":"=","value":{"objectCreationExpressionInfo":{"newKeyword":"new","type":{"identifierNameInfo":{"identifier":"XLayoutGraph"}},"argumentList":{"arguments":[{"expression":{"identifierNameInfo":{"identifier":"IntGraph"}}},{"expression":{"identifierNameInfo":{"identifier":"properLayeredGraph"}}},{"expression":{"identifierNameInfo":{"identifier":"layerArrays"}}},{"expression":{"identifierNameInfo":{"identifier":"edges"}}},{"expression":{"identifierNameInfo":{"identifier":"nOfVerts"}}}]}}}}}]},"startLine":1587}},{"expressionStatementInfo":{"expression":{"invocationExpressionInfo":{"expression":{"memberAccessExpressionInfo":{"expression":{"identifierNameInfo":{"identifier":"ret"}},"operatorToken":".","name":{"identifierNameInfo":{"identifier":"SetEdgeWeights"}}}},"argumentList":{}}},"startLine":1588}},{"returnStatementInfo":{"returnKeyword":"return","expression":{"identifierNameInfo":{"identifier":"ret"}},"startLine":1589}}],"startLine":1555},"comments":["///// <summary>","///// A quote from Gansner93.","///// The method involves constructing an auxiliary graph as illustrated in figure 4-2.","///// This transformation is the graphical analogue of the algebraic","///// transformation mentioned above for removing the absolute values","///// from the optimization problem. The nodes of the auxiliary graph Gў are the nodes of","///// the original graph G plus, for every edge e in G, there is a new node ne.","///// There are two kinds of edges in Gў. One edge class encodes the","///// cost of the original edges. Every edge e = (u,v) in G is replaced by two edges (ne ,u)","///// and (ne, v) with d = 0 and w = w(e)W(e). The other class of edges separates nodes in the same layer.","///// If v is the left neighbor of w, then Gў has an edge f = e(v,w) with d( f ) = r(v,w) and","///// w( f ) = 0. This edge forces the nodes to be sufficiently","///// separated but does not affect the cost of the layout."]}},{"propertyDeclarationInfo":{"modifiers":["internal"],"type":{"identifierNameInfo":{"identifier":"SugiyamaLayoutSettings"}},"identifier":"SugiyamaSettings","accessorList":{"accessors":[{"keyword":"get","body":{"statements":[{"returnStatementInfo":{"returnKeyword":"return","expression":{"identifierNameInfo":{"identifier":"sugiyamaSettings"}},"startLine":1599}}],"startLine":1599}}]}}}],"comments":["/// <summary>\n/// This is the top level class driving the calculation\n/// </summary>"]}}]}}]}